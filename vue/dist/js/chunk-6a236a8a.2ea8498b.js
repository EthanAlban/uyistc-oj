(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a236a8a"],{bc90:function(t,s,e){},c1b5:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("el-button",{staticStyle:{float:"left",margin:"10px 0 10px 10px"},attrs:{type:"primary",round:""},on:{click:t.GetSubmissions}},[t._v("刷新提交记录\n\t")]),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.submissons_list,"max-height":"600"}},[e("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[e("el-form-item",{attrs:{label:"提交时间"}},[e("span",[t._v(t._s(t._f("formatDate")(s.row.create_time)))])]),e("el-form-item",{attrs:{label:""}},[e("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.getCode(s.row.Code)}}},[t._v("查看代码")])],1),e("el-form-item",{attrs:{label:"错误提示"}},[e("span",{staticStyle:{color:"red"}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(s.row.ErrInfo)+"\n\t\t\t\t\t\t\t")])])],1)]}}])}),e("el-table-column",{attrs:{label:"问题编号",prop:"problem"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.problemDetail(s.row.ProblemId.Pid)}}},[t._v("\n\t\t\t\t\t\t"+t._s(s.row.ProblemId.Pid))])]}}])}),e("el-table-column",{attrs:{label:"提交时间",sortable:"",prop:"create_time"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("i",{staticClass:"el-icon-time"}),e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t._f("formatDate")(s.row.CreateTime)))])]}}])}),e("el-table-column",{attrs:{label:"使用语言",prop:"Language.Language_"}}),e("el-table-column",{attrs:{label:"结果",prop:"result"},scopedSlots:t._u([{key:"default",fn:function(s){return["正确"!=s.row.result?e("div",[e("span",{staticStyle:{color:"red"}},[t._v(t._s(s.row.result))])]):t._e(),"正确"===s.row.result?e("div",{attrs:{title:"正确"}},[e("span",{staticStyle:{color:"green"}},[t._v(t._s(s.row.result))])]):t._e()]}}])}),e("el-table-column",{attrs:{label:"得分",prop:"Score"}}),e("el-table-column",{attrs:{label:"用户名",prop:"UserName"}})],1),e("div",{staticClass:"block"},[e("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[10,20,40,80],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},l=[],o={mounted:function(){if(this.GetSubmissions(this.page,this.limit,this.offset),null===this.user_profile){var t=this.$createElement;this.$notify({title:"未登录",message:t("i",{style:"color: teal"},"未登录无法查看提交记录")})}},data:function(){return{submissons_list:[],limit:10,page:1,total:0,offset:0}},methods:{tableRowClassName:function(t){t.row;var s=t.rowIndex;return 1===s?"warning-row":3===s?"success-row":""},GetSubmissions:function(t,s,e){var i=this;this.selfLog("更新提交列表"),this.offset=(this.page-1)*this.limit,this.$submission_axios.GetUserSubmissions(this.limit,this.offset).then((function(t){if(204!==t.errcode){i.selfLog(t),i.submissons_list=t.data.submissions;for(var s=0;s<i.submissons_list.length;s++){var e=i.submissons_list[s].Result;-2===e?i.submissons_list[s].result="编译错误":-1===e?i.submissons_list[s].result="答案错误":0===e?i.submissons_list[s].result="正确":1===e?i.submissons_list[s].result="计算超时":2===e?i.submissons_list[s].result="超时":3===e?i.submissons_list[s].result="内存超过":4===e?i.submissons_list[s].result="运行时错误":5===e?i.submissons_list[s].result="系统错误":6===e?i.submissons_list[s].result="传送...":7===e?i.submissons_list[s].result="判题中...":8===e&&(i.submissons_list[s].result="部分正确")}i.selfLog(i.submissons_list),i.total=t.data.total}else{var l=i.$createElement;i.$notify({title:"未登录",message:l("i",{style:"color: teal"},"未登录无法查看提交记录")})}}))},handleSizeChange:function(t){this.limit=t,this.offset=(this.page-1)*this.limit,this.GetSubmissions(this.page,this.limit,this.offset),this.selfLog("每页 ".concat(t," 条"))},handleCurrentChange:function(t){this.page=t,this.offset=(this.page-1)*this.limit,this.GetSubmissions(this.page,this.limit,this.offset),this.selfLog("当前页: ".concat(t))},problemDetail:function(t){this.$router.push("/problemDetail/".concat(t))},getCode:function(t){var s=this;this.$confirm(t,"提交代码",{distinguishCancelAndClose:!0,confirmButtonText:"保存到剪贴板",cancelButtonText:"取消"}).then((function(){s.$copyText(t),s.$message({type:"info",message:"已复制"})})).catch((function(t){s.selfLog(t),s.$message({type:"info",message:"cancel"===t?"放弃保存并离开页面":"未保存"})}))}}},n=o,a=(e("fd80"),e("2877")),r=Object(a["a"])(n,i,l,!1,null,"b8531790",null);s["default"]=r.exports},fd80:function(t,s,e){"use strict";e("bc90")}}]);
//# sourceMappingURL=chunk-6a236a8a.2ea8498b.js.map