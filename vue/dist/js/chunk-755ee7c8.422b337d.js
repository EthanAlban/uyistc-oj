(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-755ee7c8"],{"37c8":function(t,e,n){e.f=n("2b4c")},"3a4a":function(t,e,n){"use strict";n("f3a3")},"3a72":function(t,e,n){var i=n("7726"),o=n("8378"),s=n("2d00"),a=n("37c8"),r=n("86cc").f;t.exports=function(t){var e=o.Symbol||(o.Symbol=s?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||r(e,t,{value:a.f(t)})}},"7bbc":function(t,e,n){var i=n("6821"),o=n("9093").f,s={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],r=function(t){try{return o(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==s.call(t)?r(t):o(i(t))}},"83ba":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("示例"+t._s(t.post.id))]),n("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){return t.$emit("delete",t.post.id)}}},[t._v("删除")])],1),n("div",{staticClass:"sampleBox"},[n("el-input",{attrs:{type:"textarea",rows:3,placeholder:"样例输入"},model:{value:t.post.input,callback:function(e){t.$set(t.post,"input",e)},expression:"post.input"}}),n("el-input",{attrs:{type:"textarea",rows:3,placeholder:"样例输出"},model:{value:t.post.output,callback:function(e){t.$set(t.post,"output",e)},expression:"post.output"}})],1)])],1)},o=[],s={name:"Sample",props:["post"],data:function(){return{}},methods:{},computed:{}},a=s,r=(n("3a4a"),n("2877")),l=Object(r["a"])(a,i,o,!1,null,"6939d10e",null);e["a"]=l.exports},"8a81":function(t,e,n){"use strict";var i=n("7726"),o=n("69a8"),s=n("9e1e"),a=n("5ca1"),r=n("2aba"),l=n("67ab").KEY,c=n("79e5"),u=n("5537"),p=n("7f20"),m=n("ca5a"),f=n("2b4c"),d=n("37c8"),h=n("3a72"),_=n("d4c0"),b=n("1169"),g=n("cb7c"),y=n("d3f4"),v=n("4bf8"),C=n("6821"),w=n("6a99"),x=n("4630"),S=n("2aeb"),k=n("7bbc"),L=n("11e9"),O=n("2621"),P=n("86cc"),$=n("0d58"),E=L.f,T=P.f,j=k.f,z=i.Symbol,J=i.JSON,F=J&&J.stringify,I="prototype",V=f("_hidden"),R=f("toPrimitive"),N={}.propertyIsEnumerable,D=u("symbol-registry"),A=u("symbols"),q=u("op-symbols"),M=Object[I],B="function"==typeof z&&!!O.f,H=i.QObject,G=!H||!H[I]||!H[I].findChild,Q=s&&c((function(){return 7!=S(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=E(M,e);i&&delete M[e],T(t,e,n),i&&t!==M&&T(M,e,i)}:T,W=function(t){var e=A[t]=S(z[I]);return e._k=t,e},K=B&&"symbol"==typeof z.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof z},U=function(t,e,n){return t===M&&U(q,e,n),g(t),e=w(e,!0),g(n),o(A,e)?(n.enumerable?(o(t,V)&&t[V][e]&&(t[V][e]=!1),n=S(n,{enumerable:x(0,!1)})):(o(t,V)||T(t,V,x(1,{})),t[V][e]=!0),Q(t,e,n)):T(t,e,n)},Y=function(t,e){g(t);var n,i=_(e=C(e)),o=0,s=i.length;while(s>o)U(t,n=i[o++],e[n]);return t},X=function(t,e){return void 0===e?S(t):Y(S(t),e)},Z=function(t){var e=N.call(this,t=w(t,!0));return!(this===M&&o(A,t)&&!o(q,t))&&(!(e||!o(this,t)||!o(A,t)||o(this,V)&&this[V][t])||e)},tt=function(t,e){if(t=C(t),e=w(e,!0),t!==M||!o(A,e)||o(q,e)){var n=E(t,e);return!n||!o(A,e)||o(t,V)&&t[V][e]||(n.enumerable=!0),n}},et=function(t){var e,n=j(C(t)),i=[],s=0;while(n.length>s)o(A,e=n[s++])||e==V||e==l||i.push(e);return i},nt=function(t){var e,n=t===M,i=j(n?q:C(t)),s=[],a=0;while(i.length>a)!o(A,e=i[a++])||n&&!o(M,e)||s.push(A[e]);return s};B||(z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor!");var t=m(arguments.length>0?arguments[0]:void 0),e=function(n){this===M&&e.call(q,n),o(this,V)&&o(this[V],t)&&(this[V][t]=!1),Q(this,t,x(1,n))};return s&&G&&Q(M,t,{configurable:!0,set:e}),W(t)},r(z[I],"toString",(function(){return this._k})),L.f=tt,P.f=U,n("9093").f=k.f=et,n("52a7").f=Z,O.f=nt,s&&!n("2d00")&&r(M,"propertyIsEnumerable",Z,!0),d.f=function(t){return W(f(t))}),a(a.G+a.W+a.F*!B,{Symbol:z});for(var it="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ot=0;it.length>ot;)f(it[ot++]);for(var st=$(f.store),at=0;st.length>at;)h(st[at++]);a(a.S+a.F*!B,"Symbol",{for:function(t){return o(D,t+="")?D[t]:D[t]=z(t)},keyFor:function(t){if(!K(t))throw TypeError(t+" is not a symbol!");for(var e in D)if(D[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!B,"Object",{create:X,defineProperty:U,defineProperties:Y,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:nt});var rt=c((function(){O.f(1)}));a(a.S+a.F*rt,"Object",{getOwnPropertySymbols:function(t){return O.f(v(t))}}),J&&a(a.S+a.F*(!B||c((function(){var t=z();return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))}))),"JSON",{stringify:function(t){var e,n,i=[t],o=1;while(arguments.length>o)i.push(arguments[o++]);if(n=e=i[1],(y(e)||void 0!==t)&&!K(t))return b(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!K(e))return e}),i[1]=e,F.apply(J,i)}}),z[I][R]||n("32e9")(z[I],R,z[I].valueOf),p(z,"Symbol"),p(Math,"Math",!0),p(i.JSON,"JSON",!0)},"9bfe":function(t,e,n){"use strict";n("bc88")},"9dd2":function(t,e,n){},ac4d:function(t,e,n){n("3a72")("asyncIterator")},aeb6:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{staticClass:"createNew",attrs:{type:"primary",round:""},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("创建新题目")]),n("div",{staticClass:"problem_list"},[n("el-table",{attrs:{data:t.tableData,size:"medium"}},[n("el-table-column",{attrs:{label:"题目编号",sortable:"",width:"100",prop:"id"}}),n("el-table-column",{attrs:{label:"编号",width:"80",prop:"_id"}}),n("el-table-column",{attrs:{label:"标题",width:"120",prop:"title"}}),n("el-table-column",{attrs:{label:"创建人",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("i",{staticClass:"el-icon-s-custom"}),n("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.created_by.username))])]}}])}),n("el-table-column",{attrs:{label:"标签",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.tags,(function(e,i){return n("el-tag",{key:e,attrs:{type:t.tag_types[i%5],effect:"dark"}},[t._v(t._s(e)+"\n          ")])}))}}])}),n("el-table-column",{attrs:{label:"创建时间",width:"200",sortable:"",prop:"create_time"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("i",{staticClass:"el-icon-time"}),n("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t._f("formatDate")(e.row.create_time)))])]}}])}),n("el-table-column",{attrs:{label:"操作",width:"400","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"success",round:""},on:{click:function(n){return t.edit_problem(e.row)}}},[t._v("编辑\n          ")]),n("el-button",{attrs:{size:"mini",icon:"el-icon-delete",type:"danger",round:""},on:{click:function(n){return t.delete_problem(e.row)}}},[t._v("删除\n          ")]),n("a",{attrs:{href:"http://47.94.135.51:9999/foo/problem/download_test_case?problem_id="+e.row.id+"&testcase_id="+e.row.test_case_id}},[n("el-button",{staticStyle:{"margin-left":"5px"},attrs:{size:"mini",icon:"el-icon-download",type:"primary",round:""}},[t._v("下载用例\n            ")])],1),n("el-button",{staticStyle:{"margin-left":"5px"},attrs:{size:"mini",icon:"el-icon-view",type:"primary",round:""},on:{click:function(n){return t.show_test_case(e.row)}}},[t._v("\n            查看用例")])]}}])})],1),n("el-pagination",{attrs:{"current-page":1,"page-sizes":[5,10,20],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.totalListLength},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),n("el-dialog",{attrs:{visible:t.dialogFormVisible,"destroy-on-close":""},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[n("p",{staticClass:"formTitle",staticStyle:{fontSize:"20px",marginTop:"-40px"}},[t._v("创建题目")]),n("el-form",{staticStyle:{width:"600px",marginLeft:"-40px"},attrs:{model:t.form,inline:!0}},[n("el-form-item",{attrs:{label:"题目编号"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:t.form._id,callback:function(e){t.$set(t.form,"_id",e)},expression:"form._id"}})],1),n("el-form-item",{attrs:{label:"题目名称"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1),n("p",{staticClass:"formTitle"},[t._v("题目描述")]),n("quill-editor",{attrs:{content:t.form.description,options:t.editorOption},on:{change:function(e){return t.onDescriptionChange(e)}}}),n("p",{staticClass:"formTitle"},[t._v("输入描述")]),n("quill-editor",{attrs:{content:t.form.input_description,options:t.editorOption},on:{change:function(e){return t.onInputDescChange(e)}}}),n("p",{staticClass:"formTitle"},[t._v("输出描述")]),n("quill-editor",{attrs:{content:t.form.output_description,options:t.editorOption},on:{change:function(e){return t.onOutDescChange(e)}}}),n("p",{staticClass:"formTitle"},[t._v("提示")]),n("quill-editor",{attrs:{content:t.form.hint,options:t.editorOption},on:{change:function(e){return t.onHintChange(e)}}}),n("el-form",{attrs:{model:t.form,inline:!0}},[n("el-form-item",{attrs:{label:"时间限制(ms)"}},[n("el-input-number",{model:{value:t.form.time_limit,callback:function(e){t.$set(t.form,"time_limit",e)},expression:"form.time_limit"}})],1),n("el-form-item",{attrs:{label:"内存限制(MB)"}},[n("el-input-number",{model:{value:t.form.memory_limit,callback:function(e){t.$set(t.form,"memory_limit",e)},expression:"form.memory_limit"}})],1),n("el-form-item",{attrs:{label:"难度"}},[n("el-select",{attrs:{placeholder:"请选择问题难度"},model:{value:t.form.difficulty,callback:function(e){t.$set(t.form,"difficulty",e)},expression:"form.difficulty"}},[n("el-option",{attrs:{label:"低",value:"Low"}}),n("el-option",{attrs:{label:"中等",value:"Mid"}}),n("el-option",{attrs:{label:"困难",value:"High"}})],1)],1)],1),n("el-form",{attrs:{model:t.form,"label-position":"top"}},[n("el-form-item",{attrs:{label:"问题标签"}},[t._l(t.form.tags,(function(e){return n("el-tag",{key:e,attrs:{closable:"","disable-transitions":!1},on:{close:function(n){return t.handleClose(e)}}},[t._v("\n          "+t._s(e))])})),t.inputVisible?n("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.handleInputConfirm},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+ 新标签")])],2),n("el-form-item",{attrs:{label:"问题可使用语言"}},[n("el-checkbox-group",{model:{value:t.form.languages,callback:function(e){t.$set(t.form,"languages",e)},expression:"form.languages"}},[n("el-checkbox",{attrs:{label:"C"}}),n("el-checkbox",{attrs:{label:"C++"}}),n("el-checkbox",{attrs:{label:"Python"}}),n("el-checkbox",{attrs:{label:"Java"}})],1)],1)],1),t.form.languages.indexOf("C")>-1?n("codemirror",{ref:"cmEditor_C",staticStyle:{textAlign:"left"},attrs:{value:t.code_C,options:t.cmOptions_C},on:{ready:t.onCmReady,focus:t.onCmFocus,input:t.onCmCodeChange_C}}):t._e(),t.form.languages.indexOf("C++")>-1?n("codemirror",{ref:"cmEditor_C_Plus",staticStyle:{textAlign:"left"},attrs:{value:t.code_C_Plus,options:t.cmOptions_C_Plus},on:{ready:t.onCmReady,focus:t.onCmFocus,input:t.onCmCodeChange_C_Plus}}):t._e(),t.form.languages.indexOf("Python")>-1?n("codemirror",{ref:"cmEditor_Python",staticStyle:{textAlign:"left"},attrs:{value:t.code_Python,options:t.cmOptions_Python},on:{ready:t.onCmReady,focus:t.onCmFocus,input:t.onCmCodeChange_Python}}):t._e(),t.form.languages.indexOf("Java")>-1?n("codemirror",{ref:"cmEditor_Java",staticStyle:{textAlign:"left"},attrs:{value:t.code_Java,options:t.cmOptions_Java},on:{ready:t.onCmReady,focus:t.onCmFocus,input:t.onCmCodeChange_Java}}):t._e(),n("el-divider",[n("i",{staticClass:"el-icon-mobile-phone"})]),t._l(t.sampleList,(function(e){return n("Sample",{key:e.id,staticClass:"sampleBox",attrs:{post:e},on:{delete:t.deleteSample}})})),n("el-button",{staticStyle:{width:"60%"},attrs:{type:"primary"},on:{click:t.addSample}},[n("i",{staticClass:"el-icon-plus"}),t._v("新建样例\n    ")]),n("el-divider",[n("i",{staticClass:"el-icon-mobile-phone"})]),n("el-upload",{staticClass:"upload-demo",attrs:{action:"string",accept:".zip",limit:1,"http-request":t.uploadTestCase,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,multiple:"","on-exceed":t.handleExceed,"file-list":t.fileList}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传测试用例")]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[n("a",{attrs:{href:"../testcase",target:"_blank"}},[t._v("测试用例格式说明")])])],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.add_problem("new")}}},[t._v("确 定")])],1)],2),n("el-dialog",{attrs:{visible:t.dialogFormVisible_edit,"destroy-on-close":""},on:{"update:visible":function(e){t.dialogFormVisible_edit=e}}},[n("p",{staticClass:"formTitle",staticStyle:{fontSize:"20px",marginTop:"-40px"}},[t._v("编辑题目")]),n("el-form",{staticStyle:{width:"600px",marginLeft:"-40px"},attrs:{model:t.form,inline:!0}},[n("el-form-item",{attrs:{label:"题目编号"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:t.form._id,callback:function(e){t.$set(t.form,"_id",e)},expression:"form._id"}})],1),n("el-form-item",{attrs:{label:"题目名称"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1),n("p",{staticClass:"formTitle"},[t._v("题目描述")]),n("quill-editor",{attrs:{content:t.form.description,options:t.editorOption},on:{change:function(e){return t.onDescriptionChange(e)}}}),n("p",{staticClass:"formTitle"},[t._v("输入描述")]),n("quill-editor",{attrs:{content:t.form.input_description,options:t.editorOption},on:{change:function(e){return t.onInputDescChange(e)}}}),n("p",{staticClass:"formTitle"},[t._v("输出描述")]),n("quill-editor",{attrs:{content:t.form.output_description,options:t.editorOption},on:{change:function(e){return t.onOutDescChange(e)}}}),n("p",{staticClass:"formTitle"},[t._v("提示")]),n("quill-editor",{attrs:{content:t.form.hint,options:t.editorOption},on:{change:function(e){return t.onHintChange(e)}}}),n("el-form",{attrs:{model:t.form,inline:!0}},[n("el-form-item",{attrs:{label:"时间限制(ms)"}},[n("el-input-number",{model:{value:t.form.time_limit,callback:function(e){t.$set(t.form,"time_limit",e)},expression:"form.time_limit"}})],1),n("el-form-item",{attrs:{label:"内存限制(MB)"}},[n("el-input-number",{model:{value:t.form.memory_limit,callback:function(e){t.$set(t.form,"memory_limit",e)},expression:"form.memory_limit"}})],1),n("el-form-item",{attrs:{label:"难度"}},[n("el-select",{attrs:{placeholder:"请选择问题难度"},model:{value:t.form.difficulty,callback:function(e){t.$set(t.form,"difficulty",e)},expression:"form.difficulty"}},[n("el-option",{attrs:{label:"低",value:"Low"}}),n("el-option",{attrs:{label:"中等",value:"Mid"}}),n("el-option",{attrs:{label:"困难",value:"High"}})],1)],1)],1),n("el-form",{attrs:{model:t.form,"label-position":"top"}},[n("el-form-item",{attrs:{label:"问题标签"}},[t._l(t.form.tags,(function(e){return n("el-tag",{key:e,attrs:{closable:"","disable-transitions":!1},on:{close:function(n){return t.handleClose(e)}}},[t._v("\n          "+t._s(e))])})),t.inputVisible?n("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.handleInputConfirm},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+ 新标签")])],2),n("el-form-item",{attrs:{label:"问题可使用语言"}},[n("el-checkbox-group",{model:{value:t.form.languages,callback:function(e){t.$set(t.form,"languages",e)},expression:"form.languages"}},[n("el-checkbox",{attrs:{label:"C"}}),n("el-checkbox",{attrs:{label:"C++"}}),n("el-checkbox",{attrs:{label:"Python"}}),n("el-checkbox",{attrs:{label:"Java"}})],1)],1)],1),t.form.languages.indexOf("C")>-1&&""!==t.current_problem.template["C"]?n("codemirror",{ref:"cmEditor_C",staticStyle:{textAlign:"left"},attrs:{value:t.current_problem.template["C"],options:t.cmOptions_C},on:{ready:t.onCmReady,focus:t.onCmFocus,input:t.onCmCodeChange_C}}):t._e(),t.form.languages.indexOf("C++")>-1&&""!==t.current_problem.template["C++"]?n("codemirror",{ref:"cmEditor_C_Plus",staticStyle:{textAlign:"left"},attrs:{value:t.code_C_Plus,options:t.cmOptions_C_Plus},on:{ready:t.onCmReady,focus:t.onCmFocus,input:t.onCmCodeChange_C_Plus}}):t._e(),t.form.languages.indexOf("Python")>-1&&""!==t.current_problem.template["Python"]?n("codemirror",{ref:"cmEditor_Python",staticStyle:{textAlign:"left"},attrs:{value:t.code_Python,options:t.cmOptions_Python},on:{ready:t.onCmReady,focus:t.onCmFocus,input:t.onCmCodeChange_Python}}):t._e(),t.form.languages.indexOf("Java")>-1&&""!==t.current_problem.template["Java"]?n("codemirror",{ref:"cmEditor_Java",staticStyle:{textAlign:"left"},attrs:{value:t.code_Java,options:t.cmOptions_Java},on:{ready:t.onCmReady,focus:t.onCmFocus,input:t.onCmCodeChange_Java}}):t._e(),n("el-divider",[n("i",{staticClass:"el-icon-mobile-phone"})]),t._l(t.sampleList,(function(e){return n("Sample",{key:e.id,staticClass:"sampleBox",attrs:{post:e},on:{delete:t.deleteSample}})})),n("el-button",{staticStyle:{width:"60%"},attrs:{type:"primary"},on:{click:t.addSample}},[n("i",{staticClass:"el-icon-plus"}),t._v("新建样例\n    ")]),n("el-divider",[n("i",{staticClass:"el-icon-mobile-phone"})]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.form.test_case_score,stripe:""}},[n("el-table-column",{attrs:{prop:"input_name",label:"输入",width:"180"}}),n("el-table-column",{attrs:{prop:"output_name",label:"输出",width:"180"}}),n("el-table-column",{attrs:{prop:"score",label:"分值"}})],1),n("el-upload",{staticClass:"upload-demo",attrs:{action:"string",accept:".zip",limit:1,"http-request":t.uploadTestCase,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,multiple:"","on-exceed":t.handleExceed,"file-list":t.fileList}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传测试用例")]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[n("a",{attrs:{href:"../testcase",target:"_blank"}},[t._v("测试用例格式说明")])])],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.add_problem("edit")}}},[t._v("确认修改")])],1)],2),n("el-drawer",{attrs:{title:"",visible:t.case_drawer,direction:"rtl",size:"65%"},on:{"update:visible":function(e){t.case_drawer=e}}},[n("span",{domProps:{innerHTML:t._s("题目："+t.current_problem.title)}}),n("br"),n("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"输入说明",placement:"right"}},[n("span",{staticStyle:{color:"green"},domProps:{innerHTML:t._s(t.current_problem.input_description)}},[t._v("----------")])]),n("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"输出说明",placement:"right"}},[n("span",{domProps:{innerHTML:t._s(t.current_problem.output_description)}},[t._v("----------")])]),n("el-button",{staticStyle:{position:"absolute",right:"5%",top:"5%"},attrs:{type:"primary",round:""},on:{click:t.insert_testcase}},[t._v("新建测试用例\n    ")]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.testcase_loading,expression:"testcase_loading"}],attrs:{data:t.test_cases.cases,"max-height":"500"}},[n("el-table-column",{attrs:{type:"index",width:"50"}}),n("el-table-column",{attrs:{property:"case",label:"输入",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:6}},model:{value:e.row.case,callback:function(n){t.$set(e.row,"case",n)},expression:"scope.row.case"}})]}}])}),n("el-table-column",{attrs:{property:"answer",label:"答案",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:6}},model:{value:e.row.answer,callback:function(n){t.$set(e.row,"answer",n)},expression:"scope.row.answer"}})]}}])}),n("el-table-column",{attrs:{property:"in",label:"输入文件",width:"100"}}),n("el-table-column",{attrs:{property:"out",label:"输出文件",width:"100"}}),n("el-table-column",{attrs:{property:"out",label:"Public?",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(n){return t.set_case_to_public_or_private(e.row)}},model:{value:e.row.is_public,callback:function(n){t.$set(e.row,"is_public",n)},expression:"scope.row.is_public"}},[t._v("公开\n          ")])]}}])}),n("el-table-column",{attrs:{property:"out",label:"输出文件",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"success",round:""},on:{click:function(n){return t.update_testcase(e.row)}}},[t._v("确认修改\n          ")])]}}])})],1)],1)],1)},o=[],s=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("6b54"),n("7f7f"),n("96cf"),n("1da1")),a=n("ade3"),r=n("83ba"),l=n("bc3a"),c=n.n(l),u=n("2b0e");n("4ba6"),n("4ff4"),n("db91"),n("7a7a"),n("9dd2");function p(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=m(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,r=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){r=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(r)throw s}}}}function m(t,e){if(t){if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}u["default"].prototype.$http=c.a;var d={name:"Question",components:{Sample:r["a"]},beforeCreate:function(){var t=this;this.$axios.user_profile().then((function(e){t.selfLog(e),t.user_profile=e["data"],t.$root.user_profile=t.user_profile,t.user_profile.user.last_login=t.user_profile.user.last_login.substr(0,10),t.user_profile.avatar=t.$OJIP+t.user_profile.avatar,t.selfLog(t.user_profile),t.get_list()})).catch((function(e){t.selfLog(e),t.selfLog("获取用户失败"),t.user_profile=t.$root.user_profile,t.$axios.user_profile()}))},data:function(){var t;return t={user_profile:this.$root.user_profile,editorOption:{},code_C:'//PREPEND BEGIN\n//C模板\n#include <stdio.h>\n//PREPEND END\n//TEMPLATE BEGIN\nint add(int a, int b) {\n  // Please fill this blank\n  return ___________;\n}\n//TEMPLATE END\n//APPEND BEGIN\nint main() {\n  printf("%d", add(1, 2));\n  return 0;\n}\n//APPEND END\n',code_C_Plus:'//C++模板\n#include <iostream>\nint add(int a, int b) {\n  // Please fill this blank\n  return ___________;\n}\n\nint main() {\n  std::cout << add(1, 2);\n  return 0;\n}\n"',code_Java:"//Java模板\nimport java.util.Scanner;\npublic class Main{\n    public static void main(String[] args){\n        Scanner in=new Scanner(System.in);\n        int a=in.nextInt();\n        int b=in.nextInt();\n        System.out.println((a+b));  \n    }\n}",code_Python:'"## Python模板\ndef method(input):\n    result = 0\n    #     coding here\n    return result\n\n\nif __name__ == "main":\n    input = 0\n    print(method(input))"',cmOptions_C:{tabSize:4,mode:"text/x-csrc",theme:"monokai",lineNumbers:!0,line:!0},cmOptions_C_Plus:{tabSize:4,mode:"text/x-csrc",theme:"monokai",lineNumbers:!0,line:!0},cmOptions_Python:{tabSize:4,mode:"text/x-python",theme:"monokai",lineNumbers:!0,line:!0},cmOptions_Java:{tabSize:4,mode:"text/x-java",theme:"monokai",lineNumbers:!0,line:!0},dialogFormVisible:!1,dialogFormVisible_edit:!1,inputVisible:!1,inputValue:"",testcase:[],tag_types:["info","warning","danger","","success"],form:{description:"",difficulty:"",hint:"",input_description:"",io_mode:{io_mode:"Standard IO",input:"input.txt",output:"output.txt"},languages:[],memory_limit:256,output_description:"",rule_type:"ACM",samples:[],test_case_id:"",test_case_score:[],share_submission:!1,source:"",spj:!1,spj_code:"",spj_compile_ok:!1,spj_language:"C",tags:["dp","array","greedy"],template:{},time_limit:1e3,title:"",visible:!0,_id:""},sampleList:[],fileList:[],tableData:[],totalListLength:0,limit:10,offset:0},Object(a["a"])(t,"user_profile",null),Object(a["a"])(t,"test_cases",[]),Object(a["a"])(t,"case_drawer",!1),Object(a["a"])(t,"current_problem",{template:{C:"","C++":"",Pyhon:"",Java:""}}),Object(a["a"])(t,"testcase_loading",!1),t},methods:{onCmReady:function(t){this.selfLog("the editor is readied!",t)},onCmFocus:function(t){this.selfLog("the editor is focused!",t)},onCmCodeChange_C:function(t){this.code_C=t},onCmCodeChange_C_Plus:function(t){this.code_C_Plus=t},onCmCodeChange_Python:function(t){this.code_Python=t},onCmCodeChange_Java:function(t){this.code_Java=t},edit_problem:function(t){var e=this;t.created_by.username===this.user_profile.user.username?(this.$axios.admin_problem_detail_by_id(t.id).then((function(n){e.selfLog(n.data),t=n.data,e.current_problem=t,e.form=t,e.sampleList=t.samples})),this.dialogFormVisible_edit=!0):this.$message({message:"只能编辑自己创建的问题喔～",type:"warning"})},show_test_case:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.admin_problem_detail_by_id(e.id);case 2:this.current_problem=e,this.case_drawer=!0,this.testcase_loading=!0,this.selfLog(e),n=e.test_case_id,this.selfLog(n),this.$axios.get_test_case(n).then((function(t){i.selfLog(t),i.test_cases=t,i.current_problem=e,i.selfLog("新问题的Public"),i.selfLog(i.current_problem.samples);var n,o=p(i.test_cases.cases);try{for(o.s();!(n=o.n()).done;){var s=n.value;i.selfLog("下一个测试用例");var a,r={input:s.case,output:s.answer},l=p(i.current_problem.samples);try{for(l.s();!(a=l.n()).done;){var c=a.value;if(i.selfLog(c.input+"==="+r.input+"&&"+c.output+" === "+r.output),i.selfLog(c.input===r.input&&c.output===r.output),c.input===r.input&&c.output===r.output){s["is_public"]=!0;break}s["is_public"]=!1}}catch(u){l.e(u)}finally{l.f()}}}catch(u){o.e(u)}finally{o.f()}i.testcase_loading=!1})).catch((function(t){i.selfLog(t),i.test_cases={},i.testcase_loading=!1,i.$message({message:"该问题测试用例过大，无法及时传输，为减小服务器压力，请下载到本地查看",type:"warning"})}));case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),update_testcase:function(t){var e=this;if(this.current_problem.created_by.username===this.user_profile.user.username){this.selfLog(t.case);var n={answer:t.answer,case:t.case,in:t.in,out:t.out,testcase_id:this.current_problem.test_case_id};this.$axios.update_testcase(n).then((function(t){e.selfLog(t),e.show_test_case(e.current_problem),e.$message({message:"修改完成",type:"success"})}))}else this.$message({message:"只能编辑自己创建的问题～",type:"warning"})},insert_testcase:function(){if(this.current_problem.created_by.username===this.user_profile.user.username){var t={case:"",answer:"",in:this.test_cases.cases.length+1+".in",out:this.test_cases.cases.length+1+".out"};this.selfLog(this.test_cases),this.test_cases.cases.push(t)}else this.$message({message:"只能修改自己创建问题的测试用例",type:"warning"})},set_case_to_public_or_private:function(t){var e=this,n={input:t.case,output:t.answer};if(t.is_public)this.current_problem.samples.push(n),this.selfLog("添加后的samples"),this.selfLog(this.current_problem.samples);else{var i,o=0,s=p(this.current_problem.samples);try{for(s.s();!(i=s.n()).done;){var a=i.value;a.input===n.input&&a.output===n.output&&this.current_problem.samples.splice(o,1),o+=1}}catch(r){s.e(r)}finally{s.f()}this.selfLog(this.current_problem.samples)}this.selfLog("更新Public 测试用例："),this.selfLog(this.current_problem.samples),this.$axios.admin_update_problem(this.current_problem).then((function(t){e.selfLog("更新结果"),e.selfLog(t),e.$axios.admin_problem_detail_by_id(e.current_problem.id).then((function(t){e.selfLog("更新后的问题详情"),e.selfLog(t.data),e.current_problem=t.data,e.form=t.data,e.show_test_case(e.current_problem)}))}))},delete_problem:function(t){var e=this;t.created_by.username===this.user_profile.user.username?this.$confirm("确定要删除此题目？相关的提交也将被删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$axios.delete_problem(t.id).then((function(t){null===t.error?(e.get_list(),e.$message({type:"success",message:"删除成功!"})):e.$message({message:t.data,type:"error"})}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})})):this.$message({message:"只能删除自己创建的问题喔～",type:"warning"})},get_list:function(){var t=this;this.$axios.admin_problem_list(this.limit,this.offset).then((function(e){t.selfLog(e),t.selfLog(t.user_profile),null===e.error?(t.tableData=e.data.results,t.totalListLength=e.data.total):t.$message({message:e.data,type:"error"})}))},add_tags:function(){var t,e=this,n=p(this.form.tags);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.$axios.add_tags(i).then((function(t){null===t.error||e.$message({message:t.error,type:"error"})}))}}catch(o){n.e(o)}finally{n.f()}},add_problem:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,i,o,s,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.add_tags();case 2:if("new"===e)for(n=this.sampleList.length,i=0;i<n;i++)o={input:this.sampleList[i].input,output:this.sampleList[i].output},this.form.samples.push(o);"new"===e&&(this.form.test_case_id=this.testcase[0].id,s={input_name:this.testcase[0].info[0].input_name,output_name:this.testcase[0].info[0].output_name,score:100},this.form.test_case_score.push(s)),this.selfLog(this.testcase),this.form.languages.indexOf("C")>-1&&(this.form.template["C"]=this.code_C),this.form.languages.indexOf("C++")>-1&&(this.form.template["C++"]=this.code_C_Plus),this.form.languages.indexOf("Java")>-1&&(this.form.template["Java"]=this.code_Java),this.form.languages.indexOf("Python")>-1&&(this.form.template["Python"]=this.code_Python),"new"===e?this.$axios.admin_add_problem(this.form).then((function(t){null===t.error?(a.dialogFormVisible=!1,a.get_list()):a.$message({message:t.data,type:"error"})})):"edit"===e&&this.$axios.admin_update_problem(this.form).then((function(t){a.selfLog(t),a.get_list(),a.dialogFormVisible_edit=!1}));case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onDescriptionChange:function(t){t.quill;var e=t.html;t.text;this.form.description=e},onInputDescChange:function(t){t.quill;var e=t.html;t.text;this.form.input_description=e},onOutDescChange:function(t){t.quill;var e=t.html;t.text;this.form.output_description=e},onHintChange:function(t){t.quill;var e=t.html;t.text;this.form.hint=e},uploadTestCase:function(t){var e=this,n=new FormData;n.append("file",t.file),n.append("spj",!1),this.selfLog(n),this.$axios.upload_test_case(n).then((function(t){null===t.error?e.testcase.push(t.data):e.$message({message:t.error,type:"error"})}))},handleRemove:function(t,e){this.selfLog(t,e)},handleExceed:function(t,e){this.$message.warning("当前限制选择 3 个文件，本次选择了 ".concat(t.length," 个文件，共选择了 ").concat(t.length+e.length," 个文件"))},beforeRemove:function(t,e){return this.$confirm("确定移除 ".concat(t.name,"？"))},deleteSample:function(t){for(var e=this.sampleList.length,n=0;n<e;n++)if(this.sampleList[n].id===t){this.sampleList.splice(n,1);break}this.form.samples=this.sampleList},addSample:function(){var t=this.sampleList.length;if(t){var e=this.sampleList[this.sampleList.length-1].id+1,n={id:e,input:"",output:""};this.sampleList.push(n),this.form.samples=this.sampleList}else{var i={id:1,input:"",output:""};this.sampleList.push(i)}},handleClose:function(t){this.form.tags.splice(this.form.tags.indexOf(t),1)},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick((function(e){t.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var t=this.inputValue;if(this.form.tags.indexOf(t)>-1)return this.inputValue="",void(this.inputVisible=!1);t&&this.form.tags.push(t),this.inputVisible=!1,this.inputValue=""},handleSizeChange:function(t){this.limit=t,this.get_list()},handleCurrentChange:function(t){this.offset=this.limit*(t-1),this.get_list()}},computed:{editor:function(){return this.$refs.myQuillEditor.quill}}},h=d,_=(n("9bfe"),n("2877")),b=Object(_["a"])(h,i,o,!1,null,"3f4eb012",null);e["default"]=b.exports},bc88:function(t,e,n){},d4c0:function(t,e,n){var i=n("0d58"),o=n("2621"),s=n("52a7");t.exports=function(t){var e=i(t),n=o.f;if(n){var a,r=n(t),l=s.f,c=0;while(r.length>c)l.call(t,a=r[c++])&&e.push(a)}return e}},f3a3:function(t,e,n){}}]);
//# sourceMappingURL=chunk-755ee7c8.422b337d.js.map