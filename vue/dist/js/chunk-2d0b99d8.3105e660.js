(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b99d8"],{3467:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{margin:"70px",width:"50%"}},[a("el-table",{attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"id",label:"ID"}}),a("el-table-column",{attrs:{prop:"tea_name",label:"名字"}}),a("el-table-column",{attrs:{prop:"userId",label:"用户id"}}),a("el-table-column",{attrs:{prop:"username",label:"工号"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.pass_check(t.row)}}},[e._v("通过")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.reject_tea_check(t.row)}}},[e._v("拒绝")])]}}])})],1),a("el-divider"),a("span",{staticStyle:{color:"red"}},[e._v("已拒绝：")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.reject_tableData,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"id",label:"ID"}}),a("el-table-column",{attrs:{prop:"tea_name",label:"名字"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"red"}},[e._v(e._s(t.row.tea_name))])]}}])}),a("el-table-column",{attrs:{prop:"userId",label:"用户id"}}),a("el-table-column",{attrs:{prop:"username",label:"工号"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.pass_check(t.row)}}},[e._v("通过")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.reject_tea_check(t.row)}}},[e._v("拒绝")])]}}])})],1)],1)},l=[],r={mounted:function(){var e=this;this.$axios.user_profile().then((function(t){e.user_profile=t.data})),this.obtain_teacher_apply_list(),this.obtain_teacher_reject_list()},data:function(){return{user_profile:this.$root.user_profile,tableData:[],reject_tableData:[]}},methods:{handleClick:function(e){this.selfLog(e)},obtain_teacher_apply_list:function(){var e=this;this.$axios.obtain_teacher_apply_list().then((function(t){e.selfLog(t),e.tableData=t.data}))},obtain_teacher_reject_list:function(){var e=this;this.$axios.obtain_teacher_reject_list().then((function(t){e.selfLog(t),e.reject_tableData=t.data}))},pass_check:function(e){var t=this;this.selfLog(e);var a={admin_type:"Admin",id:e.userId,username:e.username,real_name:e.tea_name,email:e.username+"@oj.com",open_api:!1,problem_permission:"All",real_tfa:!1,two_factor_auth:!1,is_disabled:!1};this.$axios.alerter_user(a).then((function(a){if(t.selfLog(a),null===a.error){var s={username:e.username};t.$axios.pass_tea_check(s).then((function(a){var s=new Date,l={userId:e.userId,msg:s.toLocaleString()+":教师权限成功，教师权限已开放",type:1};t.$axios.send_sys_info(l),t.$message({message:"审核修改成功",type:"success"}),t.obtain_teacher_apply_list()}))}}))},reject_tea_check:function(e){var t=this,a={username:e.username};this.selfLog(a),this.$axios.reject_tea_check(a).then((function(a){if("rejected"===a.data){t.$message({message:"已拒绝该教师的权限申请",type:"success"});var s=new Date,l={userId:e.userId,msg:s.toLocaleString()+":教师权限已被拒绝，请联系管理员",type:1};t.$axios.send_sys_info(l),t.obtain_teacher_apply_list()}else t.$message.error("否决权限失败~")}))}}},n=r,o=a("2877"),i=Object(o["a"])(n,s,l,!1,null,null,null);t["default"]=i.exports}}]);
//# sourceMappingURL=chunk-2d0b99d8.3105e660.js.map