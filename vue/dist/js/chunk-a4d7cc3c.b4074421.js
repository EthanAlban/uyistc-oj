(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a4d7cc3c"],{"01cb":function(e,t,s){},2618:function(e,t,s){},"62c5":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"main"}},[s("div",{staticClass:"q_desc"},[s("div",{staticClass:"header"},[s("div",{staticClass:"title"},[e._v(e._s(e.problbemDetail._id)+". "+e._s(e.problbemDetail.title))]),s("div",{staticStyle:{display:"flex"}},[s("p",[e._v("难度")]),s("p",{class:{low:"简单"===e.problbemDetailDifficulty,mid:"中等"===e.problbemDetailDifficulty,high:"困难"===e.problbemDetailDifficulty},staticStyle:{marginLeft:"10px"}},[e._v("\n          "+e._s(e.problbemDetailDifficulty))]),e._l(e.problbemDetail.tags,(function(t,i){return s("el-tag",{key:t,staticStyle:{margin:"10px 0 10px 10px"},attrs:{type:e.tag_types[i%5]}},[e._v(e._s(t))])}))],2)]),s("el-divider",[s("i",{staticClass:"el-icon-sunny"})]),s("div",{staticClass:"body"},[s("div",{domProps:{innerHTML:e._s(e.problbemDetail.description)}}),s("span",{staticStyle:{fontWeight:"bold"}},[e._v("输入描述:")]),s("div",{domProps:{innerHTML:e._s(e.problbemDetail.input_description)}}),s("span",{staticStyle:{fontWeight:"bold"}},[e._v("输出描述:")]),s("div",{domProps:{innerHTML:e._s(e.problbemDetail.output_description)}}),s("span",{staticStyle:{fontWeight:"bold"}},[e._v("提示:")]),s("div",{domProps:{innerHTML:e._s(e.problbemDetail.hint)}}),e._l(e.samples,(function(t){return s("div",{key:t.id},[s("div",[s("p",{staticStyle:{fontWeight:"bold"}},[e._v("示例"+e._s(t.id)+":")]),s("div",{staticClass:"sampleBox"},[s("div",{staticClass:"input"},[e._v("输入:"+e._s(t.input))]),s("div",{staticClass:"output"},[e._v("输出:"+e._s(t.output))])])])])})),s("div",{staticStyle:{marginTop:"20px"}},[s("span",[e._v("通过次数:"+e._s(e.problbemDetail.accepted_number))]),s("el-divider",{attrs:{direction:"vertical"}}),s("span",[e._v("提交次数:"+e._s(e.problbemDetail.submission_number))]),s("div",{attrs:{id:"echart-pass-rate"}})],1)],2)],1),s("div",{staticClass:"ans_editor"},[s("div",{staticClass:"demo-inline"},[s("p",{staticClass:"title"},[e._v("语言")]),s("el-select",{staticClass:"selectLan",attrs:{placeholder:"请选择"},on:{change:e.changeModel},model:{value:e.language,callback:function(t){e.language=t},expression:"language"}},e._l(e.problbemDetail.languages,(function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})),1),s("p",{staticClass:"title"},[e._v("主题")]),s("el-select",{staticClass:"selectTheme",attrs:{placeholder:"请选择"},model:{value:e.theme,callback:function(t){e.theme=t},expression:"theme"}},e._l(e.themes,(function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),s("codemirror",{ref:"cmEditor",staticClass:"codeEditor",attrs:{value:e.code,options:e.cmOptions},on:{ready:e.onCmReady,focus:e.onCmFocus,input:e.onCmCodeChange}})],1),s("el-button",{staticClass:"submit_fixed",attrs:{type:"success",round:""},on:{click:e.submission}},[e._v("提交")]),s("el-drawer",{staticStyle:{width:"60%",marginLeft:"39.8%"},attrs:{title:"提交结果",visible:e.drawer,"append-to-body":"","destroy-on-close":"",direction:"btt","before-close":e.handleClose},on:{"update:visible":function(t){e.drawer=t}}},[s("span",{class:{trueResult:"正确"===e.submission_status,falseResult:"正确"!==e.submission_status}},[e._v(e._s(e.submission_status)+" "+e._s(e.score))]),s("br"),s("br"),s("span",{staticStyle:{color:"red"}},[e._v(e._s(e.err_info))])])],1)},a=[],o=(s("ac6a"),s("5df3"),s("f400"),s("313e"),s("4ba6"),s("4ff4"),s("db91"),s("01cb"),s("b866"),s("d2e8"),s("7a7a"),s("2618"),s("8c2e"),{name:"problemDetailContest",mounted:function(){this.getData()},data:function(){return{tag_types:["info","warning","danger","","success"],drawer:!1,problbemDetail:{},msg:"",samples:[],language:"C",theme:"monokai",themes:["eclipse","idea","material","monokai","tomorrow-night-bright","base16-dark"],code:"",cmOptions:{tabSize:4,mode:"text/x-csrc",theme:"monokai",lineNumbers:!0,line:!0},submission_id:"",setInterval_id:"",submission_status:"",err_info:"",score:"",option:{tooltip:{trigger:"item"},legend:{top:"5%",left:"center"},series:[{name:"提交分析",type:"pie",radius:["40%","45%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{position:"outside",show:!0,fontSize:"12",fontWeight:"bold",formatter:"{b}:{c}"},labelLine:{show:!0,length:5},data:[]}]}}},methods:{handleClose:function(e){e()},getData:function(){var e=this;this.$axios.problem_contest(this.$route.params.contest_id,this.$route.params.problem_id).then((function(t){e.problbemDetail=t.data,"Problem does not exist"===t.data&&(e.$router.push("/404"),e.$message({message:"该问题不存在~",type:"warning"})),e.selfLog("作业问题详情："),e.selfLog(t),""===e.code?(e.selfLog("无前置代码"),e.code=e.problbemDetail.template[e.language]):e.selfLog("检测到前置代码"),0===e.problbemDetail.submission_number?e.problbemDetail["pass_rate"]=0:e.problbemDetail["pass_rate"]=e.problbemDetail.accepted_number/e.problbemDetail.submission_number,e.selfLog(e.problbemDetail);for(var s=1;s<=e.problbemDetail.samples.length;s++){var i=Object.assign({id:s},e.problbemDetail.samples[s-1]);e.samples.push(i)}""===e.code&&(e.code=e.problbemDetail.template.C)}))},onCmReady:function(e){this.selfLog("the editor is readied!",e)},onCmFocus:function(e){this.selfLog("the editor is focused!",e)},onCmCodeChange:function(e){this.selfLog("this is new code",e),this.code=e},changeModel:function(e){this.selfLog(e),this.selfLog(this.problbemDetail.template),this.code=this.problbemDetail.template[e]},submission:function(){var e=this;this.drawer=!0;var t={code:this.code,problem_id:this.problbemDetail.id,language:this.language,contest_id:this.problbemDetail.contest};this.selfLog(t),this.$axios.submission(t).then((function(s){e.selfLog(s),null===s.error?(e.submission_id=s.data.submission_id,e.getSubmissionDetail(t.problem_id,e.submission_id)):"The contest have ended"===s.data?e.$message({message:"提交失败，作业提交已截至",type:"warning"}):"Contest has not started yet."===s.data?e.$message({message:"提交失败，作业提交尚未开始",type:"warning"}):"permission-denied"===s.error?e.$message({message:"提交失败，请先登录",type:"warning"}):"code: This field is required."===s.data?e.$message({message:"提交失败，代码区域为空",type:"warning"}):e.$message({message:"提交失败，请稍后重试",type:"warning"}),e.selfLog(e.submission_id)}))},getSubmissionDetail:function(e){var t=this,s=this;this.$axios.submission_exists(e).then((function(e){t.selfLog(e),e.data&&(t.selfLog("启动定时任务"),s.setInterval_id=setInterval((function(){t.$axios.submission_id(s.submission_id).then((function(e){if(t.selfLog(e),null===e.error){var i=e.data.result;-2===i?s.submission_status="编译错误":-1===i?s.submission_status="答案错误":-0===i?s.submission_status="正确":1===i?s.submission_status="计算超时":2===i?s.submission_status="超时":3===i?s.submission_status="内存超过":4===i?s.submission_status="运行时错误":5===i?s.submission_status="系统错误":6===i?s.submission_status="传送...":7===i?s.submission_status="判题中...":8===i&&(s.submission_status="部分正确"),6!==e.data.result&&7!==e.data.result&&(s.err_info=e.data.statistic_info.err_info,s.score=e.data.statistic_info.score,clearInterval(s.setInterval_id))}else t.$message({message:"更新提交状态失败",type:"warning"})}))}),1e3))}))},sendMsgRequest:function(){}},computed:{codemirror:function(){return this.$refs.cmEditor.codemirror},problbemDetailDifficulty:function(){var e="";switch(this.problbemDetail.difficulty){case"Low":e="简单";break;case"Mid":e="中等";break;case"High":e="困难";break}return e}},watch:{theme:function(e,t){this.cmOptions.theme=e},language:function(e,t){var s=new Map([["C","text/x-csrc"],["C++","text/x-c++src"],["Golang","text/x-go"],["Java","text/x-java"],["Python2","text/x-python"],["Python3","text/x-python"]]),i=s.get(e);this.cmOptions.mode=i}},beforeDestroy:function(){clearInterval(this.setInterval_id)}}),n=o,l=(s("bfb0"),s("2877")),r=Object(l["a"])(n,i,a,!1,null,"72d72c19",null);t["default"]=r.exports},"839b":function(e,t,s){},"8c2e":function(e,t,s){},b866:function(e,t,s){},bfb0:function(e,t,s){"use strict";s("839b")},d2e8:function(e,t,s){},f400:function(e,t,s){"use strict";var i=s("c26b"),a=s("b39a"),o="Map";e.exports=s("e0b8")(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=i.getEntry(a(this,o),e);return t&&t.v},set:function(e,t){return i.def(a(this,o),0===e?0:e,t)}},i,!0)}}]);
//# sourceMappingURL=chunk-a4d7cc3c.b4074421.js.map