(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e8bded1c"],{"37c8":function(t,e,r){e.f=r("2b4c")},"3a72":function(t,e,r){var n=r("7726"),i=r("8378"),o=r("2d00"),s=r("37c8"),a=r("86cc").f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},"7bbc":function(t,e,r){var n=r("6821"),i=r("9093").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return i(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?a(t):i(n(t))}},"8a81":function(t,e,r){"use strict";var n=r("7726"),i=r("69a8"),o=r("9e1e"),s=r("5ca1"),a=r("2aba"),c=r("67ab").KEY,l=r("79e5"),u=r("5537"),f=r("7f20"),d=r("ca5a"),p=r("2b4c"),h=r("37c8"),b=r("3a72"),_=r("d4c0"),v=r("1169"),y=r("cb7c"),m=r("d3f4"),g=r("4bf8"),S=r("6821"),w=r("6a99"),O=r("4630"),k=r("2aeb"),j=r("7bbc"),$=r("11e9"),x=r("2621"),P=r("86cc"),C=r("0d58"),L=$.f,T=P.f,E=j.f,A=n.Symbol,D=n.JSON,I=D&&D.stringify,N="prototype",U=p("_hidden"),F=p("toPrimitive"),J={}.propertyIsEnumerable,M=u("symbol-registry"),z=u("symbols"),G=u("op-symbols"),W=Object[N],B="function"==typeof A&&!!x.f,H=n.QObject,K=!H||!H[N]||!H[N].findChild,Q=o&&l((function(){return 7!=k(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=L(W,e);n&&delete W[e],T(t,e,r),n&&t!==W&&T(W,e,n)}:T,Y=function(t){var e=z[t]=k(A[N]);return e._k=t,e},q=B&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},R=function(t,e,r){return t===W&&R(G,e,r),y(t),e=w(e,!0),y(r),i(z,e)?(r.enumerable?(i(t,U)&&t[U][e]&&(t[U][e]=!1),r=k(r,{enumerable:O(0,!1)})):(i(t,U)||T(t,U,O(1,{})),t[U][e]=!0),Q(t,e,r)):T(t,e,r)},V=function(t,e){y(t);var r,n=_(e=S(e)),i=0,o=n.length;while(o>i)R(t,r=n[i++],e[r]);return t},X=function(t,e){return void 0===e?k(t):V(k(t),e)},Z=function(t){var e=J.call(this,t=w(t,!0));return!(this===W&&i(z,t)&&!i(G,t))&&(!(e||!i(this,t)||!i(z,t)||i(this,U)&&this[U][t])||e)},tt=function(t,e){if(t=S(t),e=w(e,!0),t!==W||!i(z,e)||i(G,e)){var r=L(t,e);return!r||!i(z,e)||i(t,U)&&t[U][e]||(r.enumerable=!0),r}},et=function(t){var e,r=E(S(t)),n=[],o=0;while(r.length>o)i(z,e=r[o++])||e==U||e==c||n.push(e);return n},rt=function(t){var e,r=t===W,n=E(r?G:S(t)),o=[],s=0;while(n.length>s)!i(z,e=n[s++])||r&&!i(W,e)||o.push(z[e]);return o};B||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(r){this===W&&e.call(G,r),i(this,U)&&i(this[U],t)&&(this[U][t]=!1),Q(this,t,O(1,r))};return o&&K&&Q(W,t,{configurable:!0,set:e}),Y(t)},a(A[N],"toString",(function(){return this._k})),$.f=tt,P.f=R,r("9093").f=j.f=et,r("52a7").f=Z,x.f=rt,o&&!r("2d00")&&a(W,"propertyIsEnumerable",Z,!0),h.f=function(t){return Y(p(t))}),s(s.G+s.W+s.F*!B,{Symbol:A});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;nt.length>it;)p(nt[it++]);for(var ot=C(p.store),st=0;ot.length>st;)b(ot[st++]);s(s.S+s.F*!B,"Symbol",{for:function(t){return i(M,t+="")?M[t]:M[t]=A(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var e in M)if(M[e]===t)return e},useSetter:function(){K=!0},useSimple:function(){K=!1}}),s(s.S+s.F*!B,"Object",{create:X,defineProperty:R,defineProperties:V,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:rt});var at=l((function(){x.f(1)}));s(s.S+s.F*at,"Object",{getOwnPropertySymbols:function(t){return x.f(g(t))}}),D&&s(s.S+s.F*(!B||l((function(){var t=A();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))}))),"JSON",{stringify:function(t){var e,r,n=[t],i=1;while(arguments.length>i)n.push(arguments[i++]);if(r=e=n[1],(m(e)||void 0!==t)&&!q(t))return v(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!q(e))return e}),n[1]=e,I.apply(D,n)}}),A[N][F]||r("32e9")(A[N],F,A[N].valueOf),f(A,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},"8af4":function(t,e,r){},a38f:function(t,e,r){"use strict";r("8af4")},ac4d:function(t,e,r){r("3a72")("asyncIterator")},cefc:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"main"}},[null!==t.user_profile?r("div",[r("img",{staticClass:"avatar",attrs:{src:t.user_profile.Avatar,alt:""}}),r("div",{staticClass:"content"},[r("div",[t._v("用户名："+t._s(t.user_profile.UserName))]),r("div",[t._v("邮箱："+t._s(t.user_profile.Email))]),r("div",[t._v("用户类型："+t._s(t.user_profile.UserType))]),r("div",[t._v("博客："),r("a",{attrs:{href:t.user_profile.blog,target:"_blank"}},[t._v(t._s(t.user_profile.Blogaddr))])]),r("div",[t._v("github："),r("a",{attrs:{href:t.user_profile.github,target:"_blank"}},[t._v(t._s(t.user_profile.Gitaddr))])]),r("div",[t._v("专业："+t._s(t.user_profile.Major))]),r("div",[t._v("总分："+t._s(t.user_profile.total_score))]),2===t.user_profile.UserType?r("el-button",{staticStyle:{"z-index":"100"},attrs:{type:"success",round:""},on:{click:function(e){return t.apply_to_be_a_teacher()}}},[t._v("\n        申请教师权限\n      ")]):t._e()],1),r("el-divider",{staticStyle:{height:"300px"},attrs:{direction:"vertical","content-position":"center"}}),r("div",{staticClass:"content"},[r("div",[t._v("提交次数："+t._s(t.submission))]),r("div",[t._v("题目总数："+t._s(t.count))]),r("div",[t._v("做过的题目：\n        "),t._l(t.problems_id,(function(e){return r("div",{key:e.id},[r("div",{staticClass:"tags"},[0===e.status?r("div",[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"题目通过",placement:"bottom"}},[r("el-button",{attrs:{type:"success",round:""},on:{click:function(r){return t.problemDetail(e.id)}}},[t._v(t._s(e.id))])],1)],1):-2===e.status?r("div",[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编译失败",placement:"bottom"}},[r("el-button",{attrs:{type:"danger",round:""},on:{click:function(r){return t.problemDetail(e.id)}}},[t._v(t._s(e.id))])],1)],1):r("div",[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"尚未通过",placement:"bottom"}},[r("el-button",{attrs:{type:"warning",round:""},on:{click:function(r){return t.problemDetail(e.id)}}},[t._v(t._s(e.id))])],1)],1)])])}))],2)])],1):t._e(),r("contribution",{staticStyle:{width:"70%"},attrs:{data:t.history,rectWidth:12,rectHeight:12,fontSize:10,click:t.login_history,monthText:"zh-cn",conditions:t.condition}})],1)},i=[];r("ac4d"),r("8a81"),r("5df3"),r("1c4c"),r("7f7f"),r("6b54"),r("28a5");function o(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=s(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw o}}}}function s(t,e){if(t){if("string"===typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var c={name:"profile",mounted:function(){var t=this;this.$user_axios.user_profile().then((function(e){t.selfLog(e),t.user_profile=e["data"],t.get_submission_problems()})),this.login_history()},data:function(){return{msg:"",user_profile:null,history:{},condition:[{condition:"<=",value:0,color:"#ebedf0"},{condition:"<",value:1,color:"#c6e48b"},{condition:"<",value:5,color:"#7bc96f"},{condition:"<",value:7,color:"#239a3b"},{condition:">=",value:7,color:"#196127"}],submission:0,problems:[],problems_id:[],count:0}},methods:{apply_to_be_a_teacher:function(){var t=this;this.selfLog("--------");var e={id:this.user_profile.id,username:this.user_profile.user.username};7!=this.user_profile.user.username.length?this.$message.error("请使用7位工号登录"):this.$axios.apply_to_be_a_teacher(e).then((function(e){var r=t.$createElement,n=new Date,i={userId:t.user_profile.id,msg:n.toLocaleString()+":申请教师权限",type:1};t.$axios.send_sys_info(i),"to_check"===e.data?t.$notify({title:"权限申请",message:r("i",{style:"color: teal"},"教师权限申请已发送，我们将在0-3天内审核~祝您使用愉快")}):"applyed_to_check"===e.data?t.$notify({title:"权限申请",message:r("i",{style:"color: teal"},"教师权限申请已发送，请勿重复申请")}):"already_passed"===e.data?t.$notify({title:"权限申请",message:r("i",{style:"color: teal"},"教师权限申请已通过，不必重复申请")}):"stunum_not_exists"===e.data&&t.$notify({title:"权限申请",message:r("i",{style:"color: teal"},"教师工号不在数据库中，请联系管理员")})}))},click_history:function(t){this.selfLog(t)},login_history:function(){var t=this;this.$user_axios.login_history().then((function(e){t.selfLog(e);var r={};if(200===e["errcode"]){var n,i=e["data"],s=o(i);try{for(s.s();!(n=s.n()).done;){var a=n.value;a=a.Date.substr(0,10);var c=a.split("-");c=c.map((function(t){return"0"==t[0]?t.slice(1):t})),a=c.join("-"),r[a]=a in r?r[a]+1:1}}catch(l){s.e(l)}finally{s.f()}t.history=r,t.selfLog(r)}else t.$message.error("获取登录历史失败")})).catch((function(e){t.login_history()}))},get_submission_problems:function(){var t=this;this.$submission_axios.GetUserSubmissionProfile().then((function(e){for(var r in t.selfLog(e),t.submission=e.data.sub_counts,t.problems=e.data.problems,t.problems){t.count=t.count+1;var n=t.problems[r];t.selfLog(n),t.problems_id.push({id:n["Pid"],status:e.data.status[n["Pid"]]})}t.selfLog(t.problems_id)}))},problemDetail:function(t){this.selfLog(t),this.$router.push("/problemDetail/".concat(t))}},computed:{user_type:function(){return 2===this.user_profile.UserType?"普通用户":1===this.user_profile.UserType?"教师":0===this.user_profile.UserType?"管理员":void 0}}},l=c,u=(r("a38f"),r("2877")),f=Object(u["a"])(l,n,i,!1,null,"4b98323e",null);e["default"]=f.exports},d4c0:function(t,e,r){var n=r("0d58"),i=r("2621"),o=r("52a7");t.exports=function(t){var e=n(t),r=i.f;if(r){var s,a=r(t),c=o.f,l=0;while(a.length>l)c.call(t,s=a[l++])&&e.push(s)}return e}}}]);
//# sourceMappingURL=chunk-e8bded1c.0d623d9c.js.map