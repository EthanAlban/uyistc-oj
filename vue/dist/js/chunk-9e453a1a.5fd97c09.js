(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9e453a1a"],{"3a12":function(t,e,a){"use strict";a("d67f")},"73cf":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("dv-full-screen-container",{staticClass:"bg",class:{bg1:t.bg[0],bg2:t.bg[1],bg3:t.bg[2],bg4:t.bg[3],bg5:t.bg[4],bg6:t.bg[5],bg7:t.bg[6],bg8:t.bg[7],bg9:t.bg[8],bg10:t.bg[9],bg11:t.bg[10],bg12:t.bg[11]}},[r("div",{staticClass:"title"},[r("dv-decoration-11",{staticStyle:{width:"20%",height:"10%",position:"absolute",left:"40%",top:"5%","font-size":"200%"}},[r("a",{attrs:{href:"/"}},[r("img",{staticStyle:{width:"100%",marginTop:"10%"},attrs:{src:a("bcd1"),alt:""}})])])],1),r("div",{staticClass:"panel"},[r("el-form",{ref:"ruleForm",attrs:{"label-position":"left","label-width":"80px",model:t.form,rules:t.rules}},[r("el-form-item",{attrs:{label:"用户名称"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-user",placeholder:"请输入用户名称"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),r("el-form-item",{attrs:{label:"登录密码",prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入登录密码","show-password":"","prefix-icon":"el-icon-lock"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{attrs:{type:"password",placeholder:"请再次输入登录密码","show-password":"","prefix-icon":"el-icon-lock"},model:{value:t.form.checkPass,callback:function(e){t.$set(t.form,"checkPass",e)},expression:"form.checkPass"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-s-data",placeholder:"请输入邮箱"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),r("el-form-item",{attrs:{label:"验证码"}},[r("el-input",{staticStyle:{width:"70%"},attrs:{"prefix-icon":"el-icon-mobile",placeholder:"请输入验证码"},model:{value:t.form.captcha_str,callback:function(e){t.$set(t.form,"captcha_str",e)},expression:"form.captcha_str"}}),r("img",{staticClass:"captchaImg",attrs:{src:t.captcha},on:{click:t.get_captcha_img}})],1),r("el-button",{staticStyle:{width:"80%"},attrs:{type:"primary",loading:t.form.loading},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("注册\n\t\t\t\t")])],1),r("el-link",{attrs:{type:"primary"},on:{click:t.gotoLoginPage}},[t._v("已注册? 立即登录")])],1)])},s=[],o={name:"Register",data:function(){var t=this,e=function(t){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(t)},a=function(t,a,r){e(a)?r():r(new Error("邮箱格式错误"))},r=function(e,a,r){""===a?r(new Error("请输入密码")):(""!==t.form.checkPass&&t.$refs.ruleForm.validateField("checkPass"),r())},s=function(e,a,r){""===a?r(new Error("请再次输入密码")):a!==t.form.password?r(new Error("两次输入密码不一致!")):r()};return{bg:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],form:{username:"",password:"",checkPass:"",email:"",captcha_str:"",loading:!1},rules:{password:[{validator:r,trigger:"blur"}],checkPass:[{validator:s,trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{validator:a,trigger:"blur"}]},captcha:"",captchaId:""}},beforeMount:function(){var t=(new Date).getMonth();this.bg[t]=!0,this.get_captcha_img()},mounted:function(){},methods:{gotoLoginPage:function(){this.$router.push("/login")},get_captcha_img:function(){var t=this;this.$captcha_axios.NewCaptId().then((function(e){t.captcha="http://192.168.128.0:8666/captcha/"+e.CaptchaId+".png",t.captchaId=e.CaptchaId,t.selfLog(t.captchaId,"----",e.CaptchaId)}))},submitForm:function(t){var e=this;this.form.loading=!0,this.$refs[t].validate((function(t){if(!t)return e.$message({message:"请检查字段合法性",type:"warning"}),e.form.loading=!1,!1;e.selfLog({captchaId:e.captchaId,captchaSolution:e.form.captcha_str}),e.$captcha_axios.VerifyCaptcha({captchaId:e.captchaId,captchaSolution:e.form.captcha_str}).then((function(t){e.selfLog(t),200===t.errcode?e.register():205===t.errcode&&(e.$message({message:"验证码错误",type:"warning"}),e.form.loading=!1)}))}))},register:function(t){var e=this;this.get_captcha_img(),this.$user_axios.Register({UserName:this.form.username,Password:this.form.password,Email:this.form.email}).then((function(t){e.selfLog(t),205===t.errcode?e.$message({message:"该用户名已经被注册",type:"warning"}):206===t.errcode&&e.$message({message:"该email已经被注册",type:"warning"})})),this.form.loading=!1},register_msg:function(t){"老师"===t&&this.$notify({title:"审核通知",message:"尊敬的老师您好，注册老师账号需审核，请确保您的邮箱正确",type:"warning"})}}},i=o,c=(a("3a12"),a("2877")),n=Object(c["a"])(i,r,s,!1,null,"32c67dc6",null);e["default"]=n.exports},bcd1:function(t,e,a){t.exports=a.p+"img/sologon.424cf569.png"},d67f:function(t,e,a){}}]);
//# sourceMappingURL=chunk-9e453a1a.5fd97c09.js.map