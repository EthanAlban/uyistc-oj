(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71bb7d92"],{b722:function(e,t,s){"use strict";s("e4c9")},b82c:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("dv-full-screen-container",{staticClass:"bg"},[s("dv-border-box-3",[s("div",{staticClass:"title"},[s("span",{staticClass:"sys-name"},[e._v("神技Online Judge 管理员登录")]),s("dv-decoration-5",{staticStyle:{width:"300px",height:"40px",margin:"auto"},attrs:{color:["#3490de","#07689f"]}})],1),s("el-tabs",{staticClass:"panel",attrs:{type:"border-card"}},[s("el-tab-pane",{attrs:{label:"管理员登录"}},[s("el-form",{attrs:{"label-position":"left","label-width":"80px",model:e.form}},[s("el-form-item",{attrs:{label:"用户名称"}},[s("el-input",{attrs:{"prefix-icon":"el-icon-user",placeholder:"请输入用户名称"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),s("el-form-item",{attrs:{label:"登录密码"}},[s("el-input",{attrs:{"prefix-icon":"el-icon-s-custom",type:"password",placeholder:"请输入登录密码","show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),s("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",round:"",loading:e.loading},on:{click:e.login}},[e._v("登录")])],1)],1)],1)],1)],1)},o=[],r={name:"Login",mounted:function(){},data:function(){return{loading:!1,form:{username:"",password:""}}},methods:{login:function(){var e=this;this.loading=!0;var t={username:this.form.username,password:this.form.password};this.$axios.userLogin(t).then((function(t){null===t.error?(e.selfLog(t.data),e.$axios.user_profile().then((function(t){e.selfLog(t),e.loading=!1;var s=new Date,a=e.$createElement;e.$notify({title:"登陆成功",message:a("i",{style:"color: teal"},"管理员："+e.form.username+"  "+s.toLocaleString()+" 登录成功")});var o={userId:t.data.user.id,msg:s.toLocaleString()+":管理员后台登录",type:1};e.$axios.send_sys_info(o),e.selfLog(t),"Super Admin"===t.data.user.admin_type?(e.$root.user_profile=t.data,e.$router.push("/admin/sysinfo")):e.$message({message:"该账户不是管理员账户",type:"warning"})}))):(e.loading=!1,"Invalid username or password"===t.data&&e.$message({message:"用户名密码不匹配或未注册",type:"warning"}))}))}}},n=r,i=(s("b722"),s("2877")),l=Object(i["a"])(n,a,o,!1,null,"8b1a3b34",null);t["default"]=l.exports},e4c9:function(e,t,s){}}]);
//# sourceMappingURL=chunk-71bb7d92.adabdd34.js.map