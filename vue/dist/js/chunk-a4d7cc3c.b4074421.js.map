{"version":3,"sources":["webpack:///./src/views/Home/problemDetail_Contest.vue?a360","webpack:///src/views/Home/problemDetail_Contest.vue","webpack:///./src/views/Home/problemDetail_Contest.vue?2dc3","webpack:///./src/views/Home/problemDetail_Contest.vue","webpack:///./src/views/Home/problemDetail_Contest.vue?e8c1","webpack:///./node_modules/core-js/modules/es6.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","problbemDetail","_id","title","staticStyle","class","low","problbemDetailDifficulty","mid","high","_l","tag","idx","key","tag_types","domProps","description","input_description","output_description","hint","sample","id","input","output","accepted_number","submission_number","on","changeModel","model","value","callback","$$v","language","expression","item","theme","ref","code","cmOptions","onCmReady","onCmFocus","onCmCodeChange","submission","drawer","handleClose","$event","trueResult","submission_status","falseResult","score","err_info","staticRenderFns","name","mounted","getData","data","msg","samples","themes","tabSize","mode","lineNumbers","line","submission_id","setInterval_id","option","tooltip","trigger","legend","top","left","series","methods","done","$axios","selfLog","cm","newCode","chosen_lan","template","problem_id","contest_id","contest","params","then","res","error","message","type","getSubmissionDetail","submission_exists","that","setInterval","result_","result","statistic_info","clearInterval","sendMsgRequest","computed","codemirror","$refs","cmEditor","difficulty","ans","watch","newTheme","cmMode","beforeDestroy","component","strong","validate","MAP","module","exports","get","arguments","length","undefined","entry","getEntry","v","set","def"],"mappings":"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","file":"js/chunk-a4d7cc3c.b4074421.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"main\"}},[_c('div',{staticClass:\"q_desc\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.problbemDetail._id)+\". \"+_vm._s(_vm.problbemDetail.title))]),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('p',[_vm._v(\"难度\")]),_c('p',{class:{low:_vm.problbemDetailDifficulty==='简单',mid:_vm.problbemDetailDifficulty==='中等',high:_vm.problbemDetailDifficulty==='困难'},staticStyle:{\"marginLeft\":\"10px\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.problbemDetailDifficulty))]),_vm._l((_vm.problbemDetail.tags),function(tag,idx){return _c('el-tag',{key:tag,staticStyle:{\"margin\":\"10px 0 10px 10px\"},attrs:{\"type\":_vm.tag_types[idx%5]}},[_vm._v(_vm._s(tag))])})],2)]),_c('el-divider',[_c('i',{staticClass:\"el-icon-sunny\"})]),_c('div',{staticClass:\"body\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.problbemDetail.description)}}),_c('span',{staticStyle:{\"fontWeight\":\"bold\"}},[_vm._v(\"输入描述:\")]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.problbemDetail.input_description)}}),_c('span',{staticStyle:{\"fontWeight\":\"bold\"}},[_vm._v(\"输出描述:\")]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.problbemDetail.output_description)}}),_c('span',{staticStyle:{\"fontWeight\":\"bold\"}},[_vm._v(\"提示:\")]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.problbemDetail.hint)}}),_vm._l((_vm.samples),function(sample){return _c('div',{key:sample.id},[_c('div',[_c('p',{staticStyle:{\"fontWeight\":\"bold\"}},[_vm._v(\"示例\"+_vm._s(sample.id)+\":\")]),_c('div',{staticClass:\"sampleBox\"},[_c('div',{staticClass:\"input\"},[_vm._v(\"输入:\"+_vm._s(sample.input))]),_c('div',{staticClass:\"output\"},[_vm._v(\"输出:\"+_vm._s(sample.output))])])])])}),_c('div',{staticStyle:{\"marginTop\":\"20px\"}},[_c('span',[_vm._v(\"通过次数:\"+_vm._s(_vm.problbemDetail.accepted_number))]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('span',[_vm._v(\"提交次数:\"+_vm._s(_vm.problbemDetail.submission_number))]),_c('div',{attrs:{\"id\":\"echart-pass-rate\"}})],1)],2)],1),_c('div',{staticClass:\"ans_editor\"},[_c('div',{staticClass:\"demo-inline\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"语言\")]),_c('el-select',{staticClass:\"selectLan\",attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.changeModel},model:{value:(_vm.language),callback:function ($$v) {_vm.language=$$v},expression:\"language\"}},_vm._l((_vm.problbemDetail.languages),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1),_c('p',{staticClass:\"title\"},[_vm._v(\"主题\")]),_c('el-select',{staticClass:\"selectTheme\",attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.theme),callback:function ($$v) {_vm.theme=$$v},expression:\"theme\"}},_vm._l((_vm.themes),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1),_c('codemirror',{ref:\"cmEditor\",staticClass:\"codeEditor\",attrs:{\"value\":_vm.code,\"options\":_vm.cmOptions},on:{\"ready\":_vm.onCmReady,\"focus\":_vm.onCmFocus,\"input\":_vm.onCmCodeChange}})],1),_c('el-button',{staticClass:\"submit_fixed\",attrs:{\"type\":\"success\",\"round\":\"\"},on:{\"click\":_vm.submission}},[_vm._v(\"提交\")]),_c('el-drawer',{staticStyle:{\"width\":\"60%\",\"marginLeft\":\"39.8%\"},attrs:{\"title\":\"提交结果\",\"visible\":_vm.drawer,\"append-to-body\":\"\",\"destroy-on-close\":\"\",\"direction\":\"btt\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.drawer=$event}}},[_c('span',{class:{trueResult:_vm.submission_status==='正确',falseResult:_vm.submission_status!=='正确'}},[_vm._v(_vm._s(_vm.submission_status)+\" \"+_vm._s(_vm.score))]),_c('br'),_c('br'),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(_vm.err_info))])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"main\">\r\n    <div class=\"q_desc\">\r\n      <div class=\"header\">\r\n        <div class=\"title\">{{ problbemDetail._id }}. {{ problbemDetail.title }}</div>\r\n        <div style=\"display:flex;\">\r\n          <p>难度</p>\r\n          <p style=\"marginLeft:10px\"\r\n            :class=\"{low:problbemDetailDifficulty==='简单',mid:problbemDetailDifficulty==='中等',high:problbemDetailDifficulty==='困难'}\">\r\n            {{ problbemDetailDifficulty }}</p>\r\n          <el-tag style=\"margin:10px 0 10px 10px\" :type=\"tag_types[idx%5]\" v-for=\"(tag,idx) in problbemDetail.tags\"\r\n            :key=\"tag\">{{tag}}</el-tag>\r\n        </div>\r\n      </div>\r\n      <el-divider>\r\n        <i class=\"el-icon-sunny\"></i>\r\n      </el-divider>\r\n      <div class=\"body\">\r\n        <div v-html=\"problbemDetail.description\"></div>\r\n        <span style=\"fontWeight:bold\">输入描述:</span>\r\n        <div v-html=\"problbemDetail.input_description\"></div>\r\n        <span style=\"fontWeight:bold\">输出描述:</span>\r\n        <div v-html=\"problbemDetail.output_description\"></div>\r\n        <span style=\"fontWeight:bold\">提示:</span>\r\n        <div v-html=\"problbemDetail.hint\"></div>\r\n        <div v-for=\"sample in samples\" :key=\"sample.id\">\r\n          <div>\r\n            <p style=\"fontWeight:bold\">示例{{ sample.id }}:</p>\r\n            <div class=\"sampleBox\">\r\n              <div class=\"input\">输入:{{ sample.input }}</div>\r\n              <div class=\"output\">输出:{{ sample.output }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div style=\"marginTop:20px\">\r\n          <span>通过次数:{{ problbemDetail.accepted_number }}</span>\r\n          <el-divider direction=\"vertical\"></el-divider>\r\n          <span>提交次数:{{ problbemDetail.submission_number }}</span>\r\n          <!-- 使用echarts画图 -->\r\n          <div id=\"echart-pass-rate\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"ans_editor\">\r\n      <div class=\"demo-inline\">\r\n        <p class=\"title\">语言</p>\r\n        <el-select v-model=\"language\" placeholder=\"请选择\" @change=\"changeModel\" class=\"selectLan\">\r\n          <el-option v-for=\"item in problbemDetail.languages\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\r\n        </el-select>\r\n        <p class=\"title\">主题</p>\r\n        <el-select v-model=\"theme\" placeholder=\"请选择\" class=\"selectTheme\">\r\n          <el-option v-for=\"item in themes\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\r\n        </el-select>\r\n      </div>\r\n\r\n      <codemirror class=\"codeEditor\" ref=\"cmEditor\" :value=\"code\" :options=\"cmOptions\" @ready=\"onCmReady\"\r\n        @focus=\"onCmFocus\" @input=\"onCmCodeChange\" />\r\n    </div>\r\n    <!-- 提交固定于页面右下角 -->\r\n    <!-- 提交结果以抽屉展示 从下往上-->\r\n    <el-button class=\"submit_fixed\" type=\"success\" round @click=\"submission\">提交</el-button>\r\n\r\n    <el-drawer title=\"提交结果\" :visible.sync=\"drawer\" append-to-body destroy-on-close direction=\"btt\"\r\n      :before-close=\"handleClose\" style=\"width:60%;marginLeft:39.8%\">\r\n      <span\r\n        :class=\"{trueResult:submission_status==='正确',falseResult:submission_status!=='正确'}\">{{submission_status}}&nbsp;{{score}}</span>\r\n      <br />\r\n      <br />\r\n      <span style=\"color:red\">{{err_info}}</span>\r\n    </el-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from \"echarts\";\r\n// import language js\r\nimport \"codemirror/mode/clike/clike.js\";\r\nimport \"codemirror/mode/go/go.js\";\r\nimport \"codemirror/mode/python/python.js\";\r\n// import theme style\r\nimport \"codemirror/theme/eclipse.css\";\r\nimport \"codemirror/theme/idea.css\";\r\nimport \"codemirror/theme/material.css\";\r\nimport \"codemirror/theme/monokai.css\";\r\nimport \"codemirror/theme/tomorrow-night-bright.css\";\r\nimport \"codemirror/theme/base16-dark.css\";\r\n\r\nexport default {\r\n  name: \"problemDetailContest\",\r\n  mounted () {\r\n    this.getData();\r\n  },\r\n  data () {\r\n    return {\r\n      tag_types: [\"info\", \"warning\", \"danger\", \"\", \"success\"],\r\n      drawer: false,\r\n      problbemDetail: {},\r\n      msg: \"\",\r\n      samples: [],\r\n      language: \"C\",\r\n      theme: \"monokai\",\r\n      themes: [\r\n        \"eclipse\",\r\n        \"idea\",\r\n        \"material\",\r\n        \"monokai\",\r\n        \"tomorrow-night-bright\",\r\n        \"base16-dark\"\r\n      ],\r\n      code: \"\",\r\n      cmOptions: {\r\n        tabSize: 4,\r\n        mode: \"text/x-csrc\",\r\n        theme: \"monokai\",\r\n        lineNumbers: true,\r\n        line: true\r\n        // more CodeMirror options...\r\n      },\r\n      submission_id: \"\",\r\n      setInterval_id: \"\",\r\n      submission_status: \"\",\r\n      err_info: \"\",\r\n      score: \"\",\r\n      option: {\r\n        tooltip: {\r\n          trigger: \"item\"\r\n        },\r\n        legend: {\r\n          top: \"5%\",\r\n          left: \"center\"\r\n        },\r\n        series: [\r\n          {\r\n            name: \"提交分析\",\r\n            type: \"pie\",\r\n            radius: [\"40%\", \"45%\"],\r\n            avoidLabelOverlap: false,\r\n            itemStyle: {\r\n              borderRadius: 10,\r\n              borderColor: \"#fff\",\r\n              borderWidth: 2\r\n            },\r\n            label: {\r\n              position: \"outside\",\r\n              show: true,\r\n              fontSize: \"12\",\r\n              fontWeight: \"bold\",\r\n              formatter: \"{b}:{c}\"\r\n            },\r\n            labelLine: {\r\n              show: true,\r\n              length: 5\r\n            },\r\n            data: []\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    handleClose (done) {\r\n      done();\r\n    },\r\n    getData () {\r\n      // 用id获取问题详情\r\n      this.$axios\r\n        .problem_contest(\r\n          this.$route.params.contest_id,\r\n          this.$route.params.problem_id\r\n        )\r\n        .then(res => {\r\n          this.problbemDetail = res.data;\r\n          if (res.data === 'Problem does not exist') {\r\n            this.$router.push('/404')\r\n            this.$message({\r\n              message: '该问题不存在~',\r\n              type: 'warning'\r\n            });\r\n          }\r\n          this.selfLog(\"作业问题详情：\");\r\n          this.selfLog(res);\r\n          if (this.code === \"\") {\r\n            this.selfLog(\"无前置代码\")\r\n            this.code = this.problbemDetail.template[this.language];\r\n          } else {\r\n            this.selfLog(\"检测到前置代码\")\r\n          }\r\n          if (this.problbemDetail.submission_number === 0) {\r\n            this.problbemDetail[\"pass_rate\"] = 0;\r\n          } else {\r\n            this.problbemDetail[\"pass_rate\"] =\r\n              this.problbemDetail.accepted_number /\r\n              this.problbemDetail.submission_number;\r\n          }\r\n          this.selfLog(this.problbemDetail);\r\n          for (let i = 1; i <= this.problbemDetail.samples.length; i++) {\r\n            let sample = Object.assign(\r\n              { id: i },\r\n              this.problbemDetail.samples[i - 1]\r\n            );\r\n            this.samples.push(sample);\r\n          }\r\n          if (this.code === \"\") {\r\n            this.code = this.problbemDetail.template.C;\r\n          }\r\n        });\r\n    },\r\n    onCmReady (cm) {\r\n      this.selfLog(\"the editor is readied!\", cm);\r\n    },\r\n    onCmFocus (cm) {\r\n      this.selfLog(\"the editor is focused!\", cm);\r\n    },\r\n    onCmCodeChange (newCode) {\r\n      this.selfLog(\"this is new code\", newCode);\r\n      this.code = newCode;\r\n    },\r\n    //切换语言换模板\r\n    changeModel (chosen_lan) {\r\n      this.selfLog(chosen_lan);\r\n      this.selfLog(this.problbemDetail.template);\r\n      this.code = this.problbemDetail.template[chosen_lan];\r\n    },\r\n    // 提交代码\r\n    submission () {\r\n      this.drawer = true;\r\n      let params = {\r\n        code: this.code,\r\n        problem_id: this.problbemDetail.id,\r\n        language: this.language,\r\n        contest_id: this.problbemDetail.contest\r\n      };\r\n      this.selfLog(params);\r\n      this.$axios.submission(params).then(res => {\r\n        this.selfLog(res);\r\n        if (res.error === null) {\r\n          this.submission_id = res.data.submission_id;\r\n          this.getSubmissionDetail(params.problem_id, this.submission_id);\r\n        } else if (res.data === \"The contest have ended\") {\r\n          this.$message({\r\n            message: \"提交失败，作业提交已截至\",\r\n            type: \"warning\"\r\n          });\r\n        } else if (res.data === \"Contest has not started yet.\") {\r\n          this.$message({\r\n            message: \"提交失败，作业提交尚未开始\",\r\n            type: \"warning\"\r\n          });\r\n        } else if (res.error === \"permission-denied\") {\r\n          this.$message({\r\n            message: \"提交失败，请先登录\",\r\n            type: \"warning\"\r\n          });\r\n        } else if (res.data === \"code: This field is required.\") {\r\n          this.$message({\r\n            message: \"提交失败，代码区域为空\",\r\n            type: \"warning\"\r\n          });\r\n        } else {\r\n          this.$message({\r\n            message: \"提交失败，请稍后重试\",\r\n            type: \"warning\"\r\n          });\r\n        }\r\n        this.selfLog(this.submission_id);\r\n      });\r\n    },\r\n    // 提交代码之后定时查询提交的状态\r\n    getSubmissionDetail (problem_id) {\r\n      const that = this;\r\n      // 先查有没有对应的提交\r\n      this.$axios.submission_exists(problem_id).then(res => {\r\n        // 提交存在\r\n        this.selfLog(res);\r\n        if (res.data) {\r\n          this.selfLog(\"启动定时任务\");\r\n          // 需要设置定时一秒去轮询提交的submission状态 在页面展示之\r\n          that.setInterval_id = setInterval(() => {\r\n            this.$axios.submission_id(that.submission_id).then(res => {\r\n              this.selfLog(res);\r\n              if (res.error === null) {\r\n                // 更新状态完成就清楚定时任务\r\n                let result_ = res.data.result;\r\n                if (result_ === -2) {\r\n                  that.submission_status = \"编译错误\";\r\n                } else if (result_ === -1) {\r\n                  that.submission_status = \"答案错误\";\r\n                } else if (result_ === -0) {\r\n                  that.submission_status = \"正确\";\r\n                } else if (result_ === 1) {\r\n                  that.submission_status = \"计算超时\";\r\n                } else if (result_ === 2) {\r\n                  that.submission_status = \"超时\";\r\n                } else if (result_ === 3) {\r\n                  that.submission_status = \"内存超过\";\r\n                } else if (result_ === 4) {\r\n                  that.submission_status = \"运行时错误\";\r\n                } else if (result_ === 5) {\r\n                  that.submission_status = \"系统错误\";\r\n                } else if (result_ === 6) {\r\n                  that.submission_status = \"传送...\";\r\n                } else if (result_ === 7) {\r\n                  that.submission_status = \"判题中...\";\r\n                } else if (result_ === 8) {\r\n                  that.submission_status = \"部分正确\";\r\n                }\r\n                if (!(res.data.result === 6 || res.data.result === 7)) {\r\n                  that.err_info = res.data.statistic_info.err_info;\r\n                  that.score = res.data.statistic_info.score;\r\n                  clearInterval(that.setInterval_id);\r\n                }\r\n              } else {\r\n                this.$message({\r\n                  message: \"更新提交状态失败\",\r\n                  type: \"warning\"\r\n                });\r\n              }\r\n            });\r\n          }, 1000);\r\n        }\r\n      });\r\n    },\r\n    // 获取提交的submission_id 的状态\r\n    sendMsgRequest () { }\r\n  },\r\n\r\n  computed: {\r\n    codemirror () {\r\n      return this.$refs.cmEditor.codemirror;\r\n    },\r\n    problbemDetailDifficulty () {\r\n      let ans = \"\";\r\n      switch (this.problbemDetail.difficulty) {\r\n        case \"Low\":\r\n          ans = \"简单\";\r\n          break;\r\n        case \"Mid\":\r\n          ans = \"中等\";\r\n          break;\r\n        case \"High\":\r\n          ans = \"困难\";\r\n          break;\r\n      }\r\n      return ans;\r\n    }\r\n  },\r\n  watch: {\r\n    //切换主题与语言\r\n    theme: function (newTheme, oldTheme) {\r\n      this.cmOptions.theme = newTheme;\r\n    },\r\n    language: function (newLanguage, oldLanguage) {\r\n      const modeMap = new Map([\r\n        [\"C\", \"text/x-csrc\"],\r\n        [\"C++\", \"text/x-c++src\"],\r\n        [\"Golang\", \"text/x-go\"],\r\n        [\"Java\", \"text/x-java\"],\r\n        [\"Python2\", \"text/x-python\"],\r\n        [\"Python3\", \"text/x-python\"]\r\n      ]);\r\n      let cmMode = modeMap.get(newLanguage);\r\n      this.cmOptions.mode = cmMode;\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    clearInterval(this.setInterval_id);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n#main {\r\n  display: flex;\r\n  width: 100%;\r\n  justify-content: space-around;\r\n  .q_desc {\r\n    width: 30%;\r\n    background-color: #eaeaea;\r\n    text-align: left;\r\n    max-height: 100%;\r\n    overflow-y: scroll;\r\n    .header {\r\n      margin: 20px 10px -20px 20px;\r\n      q .title {\r\n        color: black;\r\n        font-weight: bold;\r\n        font-size: 20px;\r\n        margin: auto;\r\n      }\r\n      .low {\r\n        color: #5ab726;\r\n      }\r\n      .mid {\r\n        color: #ffa119;\r\n      }\r\n      .high {\r\n        color: #ef4743;\r\n      }\r\n    }\r\n    .body {\r\n      margin-left: 20px;\r\n      .sampleBox {\r\n        background: #393e46;\r\n        color: white;\r\n        width: 60%;\r\n        .input {\r\n          line-height: 30px;\r\n          margin-left: 10px;\r\n        }\r\n        .output {\r\n          line-height: 30px;\r\n          margin-left: 10px;\r\n        }\r\n      }\r\n      #echart-pass-rate {\r\n        height: 350px;\r\n        width: 350px;\r\n      }\r\n    }\r\n  }\r\n  .ans_editor {\r\n    width: 70%;\r\n    overflow: auto;\r\n    background-color: #393e46;\r\n    .demo-inline {\r\n      display: flex;\r\n      margin-top: 10px;\r\n      margin-bottom: 10px;\r\n      .title {\r\n        color: white;\r\n        margin: 10px;\r\n      }\r\n    }\r\n    .codeEditor {\r\n      text-align: left;\r\n      height: 20vh;\r\n    }\r\n  }\r\n  .submit_fixed {\r\n    width: 200px;\r\n    height: 50px;\r\n    font-size: 20px;\r\n    position: fixed;\r\n    bottom: 150px;\r\n    right: 50px;\r\n  }\r\n}\r\n.trueResult {\r\n  margin-left: 20px;\r\n  font-size: 20px;\r\n  color: green;\r\n}\r\n.falseResult {\r\n  margin-left: 20px;\r\n  font-size: 20px;\r\n  color: red;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./problemDetail_Contest.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./problemDetail_Contest.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./problemDetail_Contest.vue?vue&type=template&id=72d72c19&scoped=true&\"\nimport script from \"./problemDetail_Contest.vue?vue&type=script&lang=js&\"\nexport * from \"./problemDetail_Contest.vue?vue&type=script&lang=js&\"\nimport style0 from \"./problemDetail_Contest.vue?vue&type=style&index=0&id=72d72c19&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"72d72c19\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./problemDetail_Contest.vue?vue&type=style&index=0&id=72d72c19&lang=scss&scoped=true&\"","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n"],"sourceRoot":""}