{"version":3,"sources":["webpack:///./src/views/Admin/06_task_list.vue?f7a9","webpack:///./src/views/Admin/06_task_list.vue?bcc4","webpack:///src/views/Admin/06_task_list.vue","webpack:///./src/views/Admin/06_task_list.vue?fb0a","webpack:///./src/views/Admin/06_task_list.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","formInline","model","value","callback","$$v","$set","expression","on","search_task","_v","tableData","scopedSlots","_u","key","fn","props","_s","row","create_time","start_time","last_update_time","scope","domProps","description","_f","end_time","$event","hide_task","EnterContest","id","dialogFormVisible","form","formLabelWidth","slot","EnterContest_password","table","problems","_l","index","doProblem","_id","page","total","handleSizeChange","handleCurrentChange","staticRenderFns","beforeMount","Get_Contests_List","$axios","user_profile","then","data","offset","limit","contest_id","password","keyword","status","methods","admin_contests_list","val","selfLog","$message","message","type","access_contest","res","access","contest_passowrd_check","params","$router","push","allowed_ip_ranges","contest_type","created_by","real_time_rank","rule_type","title","visible","param","error","computed","component"],"mappings":"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","file":"js/chunk-1bb52e14.a2e2f771.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./06_task_list.vue?vue&type=style&index=0&id=2bc8f116&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{staticClass:\"demo-form-inline\",staticStyle:{\"margin\":\"10px 0 0 20px\",\"postion\":\"flex\",\"float\":\"left\"},attrs:{\"inline\":true,\"model\":_vm.formInline}},[_c('el-form-item',{attrs:{\"label\":\"作业查询\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入关键字\"},model:{value:(_vm.formInline.keyword),callback:function ($$v) {_vm.$set(_vm.formInline, \"keyword\", $$v)},expression:\"formInline.keyword\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-select',{attrs:{\"placeholder\":\"作业选项\"},model:{value:(_vm.formInline.status),callback:function ($$v) {_vm.$set(_vm.formInline, \"status\", $$v)},expression:\"formInline.status\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":\"\"}}),_c('el-option',{attrs:{\"label\":\"正在进行\",\"value\":\"0\"}}),_c('el-option',{attrs:{\"label\":\"尚未开始\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"已经结束\",\"value\":\"-1\"}})],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.search_task}},[_vm._v(\"查询\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-form',{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"left\",\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"发布时间\"}},[_c('span',[_vm._v(_vm._s(props.row.create_time))])]),_c('el-form-item',{attrs:{\"label\":\"开始时间\"}},[_c('span',[_vm._v(_vm._s(props.row.start_time))])]),_c('el-form-item',{attrs:{\"label\":\"最近修改时间\"}},[_c('span',[_vm._v(_vm._s(props.row.last_update_time))])])],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"作业\",\"prop\":\"title\"}}),_c('el-table-column',{attrs:{\"label\":\"作业描述\",\"prop\":\"description\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{domProps:{\"innerHTML\":_vm._s(scope.row.description)}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"截止时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-time\"}),_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(_vm._f(\"formatDate\")(scope.row.end_time)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"创建人\",\"prop\":\"created_by.username\"}}),_c('el-table-column',{attrs:{\"label\":\"可见状态\",\"prop\":\"visible\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},on:{\"change\":function($event){return _vm.hide_task(scope.row)}},model:{value:(scope.row.visible),callback:function ($$v) {_vm.$set(scope.row, \"visible\", $$v)},expression:\"scope.row.visible\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"管理\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.EnterContest(scope.row.id)}}},[_vm._v(\"查看\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"}},[_vm._v(\"编辑\")])]}}])})],1),_c('el-dialog',{attrs:{\"title\":\"验证\",\"visible\":_vm.dialogFormVisible,\"append-to-body\":\"\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('i',{staticClass:\"el-icon-lock\"}),_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"作业密码\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.EnterContest_password}},[_vm._v(\"确 定\")])],1)],1),_c('el-drawer',{attrs:{\"title\":\"作业题目列表\",\"visible\":_vm.table,\"direction\":\"rtl\",\"size\":\"50%\",\"append-to-body\":\"\"},on:{\"update:visible\":function($event){_vm.table=$event}}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.problems}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-form',{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"left\",\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"习题描述\"}},[_c('div',{staticStyle:{\"color\":\"blue\"},domProps:{\"innerHTML\":_vm._s(props.row.description)}})]),_c('el-form-item',{attrs:{\"label\":\"可使用语言\"}},_vm._l((props.row.languages),function(value,index){return _c('div',{key:index,staticStyle:{\"color\":\"blue\"}},[_vm._v(_vm._s(value)+\"、\")])}),0),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.doProblem(props.row._id)}}},[_vm._v(\"完成习题\")])],1)],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"ID\",\"prop\":\"_id\"}}),_c('el-table-column',{attrs:{\"label\":\"标题\",\"prop\":\"title\"}}),_c('el-table-column',{attrs:{\"label\":\"已完成人数\",\"prop\":\"accepted_number\"}})],1)],1),_c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.page,\"page-sizes\":[10, 20, 40, 80],\"page-size\":100,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 作业模糊查询 -->\r\n    <el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\"\r\n      style=\"margin:10px 0 0 20px;postion:flex;float:left\">\r\n      <el-form-item label=\"作业查询\">\r\n        <el-input v-model=\"formInline.keyword\" placeholder=\"输入关键字\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label>\r\n        <el-select v-model=\"formInline.status\" placeholder=\"作业选项\">\r\n          <el-option label=\"全部\" value></el-option>\r\n          <el-option label=\"正在进行\" value=\"0\"></el-option>\r\n          <el-option label=\"尚未开始\" value=\"1\"></el-option>\r\n          <el-option label=\"已经结束\" value=\"-1\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"search_task\">查询</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <!-- 作业列表显示 -->\r\n    <el-table :data=\"tableData\" style=\"width: 100%\">\r\n      <el-table-column type=\"expand\">\r\n        <template slot-scope=\"props\">\r\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n            <el-form-item label=\"发布时间\">\r\n              <span>{{ props.row.create_time }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"开始时间\">\r\n              <span>{{ props.row.start_time }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"最近修改时间\">\r\n              <span>{{ props.row.last_update_time }}</span>\r\n            </el-form-item>\r\n          </el-form>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"作业\" prop=\"title\"></el-table-column>\r\n      <el-table-column label=\"作业描述\" prop=\"description\">\r\n        <template slot-scope=\"scope\">\r\n          <div v-html=\"scope.row.description\"></div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"截止时间\">\r\n        <template slot-scope=\"scope\">\r\n          <i class=\"el-icon-time\"></i>\r\n          <span style=\"margin-left: 10px\">{{ scope.row.end_time | formatDate}}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"创建人\" prop=\"created_by.username\"></el-table-column>\r\n      <el-table-column label=\"可见状态\" prop=\"visible\">\r\n        <template slot-scope=\"scope\">\r\n          <el-switch v-model=\"scope.row.visible\" @change=\"hide_task(scope.row)\" active-color=\"#13ce66\"\r\n            inactive-color=\"#ff4949\"></el-switch>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"管理\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button @click=\"EnterContest(scope.row.id)\" type=\"text\" size=\"small\">查看</el-button>\r\n          <el-button type=\"text\" size=\"small\">编辑</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 输入密码弹框控件 -->\r\n    <el-dialog title=\"验证\" :visible.sync=\"dialogFormVisible\" append-to-body>\r\n      <i class=\"el-icon-lock\"></i>\r\n      <el-form :model=\"form\">\r\n        <el-form-item label=\"作业密码\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.password\" type=\"password\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"EnterContest_password\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <!-- 作业问题列表抽屉 -->\r\n    <el-drawer title=\"作业题目列表\" :visible.sync=\"table\" direction=\"rtl\" size=\"50%\" append-to-body>\r\n      <el-table :data=\"problems\" style=\"width: 100%\">\r\n        <el-table-column type=\"expand\">\r\n          <template slot-scope=\"props\">\r\n            <el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n              <el-form-item label=\"习题描述\">\r\n                <div style=\"color:blue\" v-html=\"props.row.description\"></div>\r\n              </el-form-item>\r\n              <el-form-item label=\"可使用语言\">\r\n                <div v-for=\"(value, index) of props.row.languages\" :key=\"index\" style=\"color:blue\">{{ value }}、</div>\r\n              </el-form-item>\r\n              <el-form-item label>\r\n                <el-button type=\"primary\" @click=\"doProblem(props.row._id)\" plain>完成习题</el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"ID\" prop=\"_id\"></el-table-column>\r\n        <el-table-column label=\"标题\" prop=\"title\"></el-table-column>\r\n        <el-table-column label=\"已完成人数\" prop=\"accepted_number\"></el-table-column>\r\n      </el-table>\r\n    </el-drawer>\r\n    <!-- 分页控件 -->\r\n    <div class=\"block\">\r\n      <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"page\"\r\n        :page-sizes=\"[10, 20, 40, 80]\" :page-size=\"100\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  beforeMount () {\r\n    this.Get_Contests_List();\r\n    this.$axios.user_profile().then(res => {\r\n      this.selfLog(res);\r\n      this.user_profile = res[\"data\"];\r\n      this.user_profile.avatar = this.$OJIP + this.user_profile.avatar;\r\n      this.selfLog(this.user_profile);\r\n    });\r\n  },\r\n  data () {\r\n    return {\r\n      user_profile: null,\r\n      // 分页查看\r\n      page: 1,\r\n      offset: 0,\r\n      limit: 10,\r\n      total: 0,\r\n      contest_id: 0,\r\n      tableData: [],\r\n      dialogFormVisible: false,\r\n      formLabelWidth: \"80px\",\r\n      form: {\r\n        password: \"\"\r\n      },\r\n      formInline: {\r\n        keyword: \"\",\r\n        status: \"\"\r\n      },\r\n      problems: {},\r\n      table: false\r\n    };\r\n  },\r\n  methods: {\r\n    Get_Contests_List () {\r\n      this.$axios.admin_contests_list(this.offset, this.limit).then(res => {\r\n        this.total = res.data.total;\r\n        this.selfLog(res);\r\n        this.tableData = res.data.results;\r\n      });\r\n    },\r\n\r\n    // 监听分页控件\r\n    handleSizeChange (val) {\r\n      this.limit = val;\r\n      this.offset = (this.page - 1) * this.limit;\r\n      this.Get_Contests_List();\r\n      this.selfLog(`每页 ${val} 条`);\r\n    },\r\n    handleCurrentChange (val) {\r\n      this.page = val;\r\n      this.offset = (this.page - 1) * this.limit;\r\n      this.Get_Contests_List();\r\n      this.selfLog(`当前页: ${val}`);\r\n    },\r\n    // 参加按钮监听\r\n    EnterContest (contest_id) {\r\n      if (this.user_profile === null) {\r\n        this.$message({\r\n          message: \"查看习题请先登录\",\r\n          type: \"warning\"\r\n        });\r\n        return false;\r\n      }\r\n      this.selfLog(contest_id);\r\n      this.contest_id = contest_id;\r\n      this.$axios.access_contest(contest_id).then(res => {\r\n        this.selfLog(res);\r\n        // 没有权限就要输密码\r\n        if (!res.data.access) {\r\n          this.$message({\r\n            message: \"暂无权限，请输入密码\",\r\n            type: \"warning\"\r\n          });\r\n          this.dialogFormVisible = true;\r\n        } else {\r\n          this.$message({\r\n            message: \"拥有权限，可进入\",\r\n            type: \"success\"\r\n          });\r\n          // 查询作业的问题列表\r\n          this.$axios.contest_problem_list(this.contest_id).then(res => {\r\n            this.selfLog(res);\r\n            if (res.data === \"Contest has not started yet.\") {\r\n              this.$message({\r\n                message: \"作业尚未到达开始时间\",\r\n                type: \"warning\"\r\n              });\r\n            } else {\r\n              this.problems = res.data;\r\n              this.dialogFormVisible = false;\r\n              this.table = true;\r\n            }\r\n          });\r\n        }\r\n      });\r\n      // this.dialogFormVisible = false\r\n    },\r\n    EnterContest_password (id) {\r\n      if (this.user_profile === null) {\r\n        this.$message({\r\n          message: \"查看习题请先登录\",\r\n          type: \"warning\"\r\n        });\r\n        return false;\r\n      }\r\n      if (this.form.password === \"\") {\r\n        this.$message({\r\n          message: \"密码不能为空\",\r\n          type: \"warning\"\r\n        });\r\n        return false;\r\n      }\r\n      let params = {\r\n        contest_id: this.contest_id,\r\n        password: this.form.password\r\n      };\r\n      this.$axios.contest_passowrd_check(params).then(res => {\r\n        this.selfLog(res);\r\n        if (res.data === \"Wrong password or password expired\") {\r\n          this.$message({\r\n            message: \"密码错误或者密码已过期\",\r\n            type: \"warning\"\r\n          });\r\n        } else if (res.error === null) {\r\n          // 查询作业的问题列表\r\n          this.$axios.contest_problem_list(this.contest_id).then(res => {\r\n            if (res.data === \"Contest has not started yet.\") {\r\n              this.$message({\r\n                message: \"作业尚未到达开始时间\",\r\n                type: \"warning\"\r\n              });\r\n            } else {\r\n              this.selfLog(res);\r\n              this.problems = res.data;\r\n              this.dialogFormVisible = false;\r\n              this.table = true;\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    doProblem (id) {\r\n      this.selfLog(id);\r\n      this.$router.push(`/problemDetail_Contest/${id}/${this.contest_id}`);\r\n    },\r\n    search_task () {\r\n      if (this.formInline.status === \"\") {\r\n        this.$axios\r\n          .search_task_ignore_status(\r\n            this.offset,\r\n            this.limit,\r\n            this.formInline.keyword\r\n          )\r\n          .then(res => {\r\n            this.total = res.data.total;\r\n            this.tableData = res.data.results;\r\n            this.selfLog(res);\r\n          });\r\n      } else {\r\n        this.$axios\r\n          .search_task(\r\n            this.offset,\r\n            this.limit,\r\n            this.formInline.status,\r\n            this.formInline.keyword\r\n          )\r\n          .then(res => {\r\n            this.total = res.data.total;\r\n            this.tableData = res.data.results;\r\n            this.selfLog(res);\r\n          });\r\n      }\r\n    },\r\n    // 删除作业？\r\n    hide_task (row) {\r\n      let param = {\r\n        allowed_ip_ranges: row.allowed_ip_ranges,\r\n        contest_type: row.contest_type,\r\n        create_time: row.create_time,\r\n        created_by: row.created_by,\r\n        description: row.description,\r\n        end_time: row.end_time,\r\n        id: row.id,\r\n        last_update_time: row.last_update_time,\r\n        password: row.password,\r\n        real_time_rank: row.real_time_rank,\r\n        rule_type: row.rule_type,\r\n        start_time: row.start_time,\r\n        status: row.status,\r\n        title: row.title,\r\n        visible: row.visible\r\n      };\r\n      this.$axios.hide_task(param).then(res => {\r\n        this.selfLog(res);\r\n        if (res.error === null) {\r\n          this.$message({\r\n            message: \"修改成功\",\r\n            type: \"success\"\r\n          });\r\n        }\r\n      });\r\n    }\r\n  },\r\n  computed: {}\r\n};\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n.demo-table-expand {\r\n  font-size: 0;\r\n}\r\n.demo-table-expand label {\r\n  width: 90px;\r\n  color: #99a9bf;\r\n}\r\n.demo-table-expand .el-form-item {\r\n  margin-right: 0;\r\n  margin-bottom: 0;\r\n  width: 50%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./06_task_list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./06_task_list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./06_task_list.vue?vue&type=template&id=2bc8f116&scoped=true&\"\nimport script from \"./06_task_list.vue?vue&type=script&lang=js&\"\nexport * from \"./06_task_list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./06_task_list.vue?vue&type=style&index=0&id=2bc8f116&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2bc8f116\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}