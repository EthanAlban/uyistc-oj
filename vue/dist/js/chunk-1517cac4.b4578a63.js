(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1517cac4"],{"28d6":function(e,t,r){"use strict";r("5919")},"2fdb":function(e,t,r){"use strict";var i=r("5ca1"),n=r("d2c8"),o="includes";i(i.P+i.F*r("5147")(o),"String",{includes:function(e){return!!~n(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"37c8":function(e,t,r){t.f=r("2b4c")},"3a72":function(e,t,r){var i=r("7726"),n=r("8378"),o=r("2d00"),a=r("37c8"),s=r("86cc").f;e.exports=function(e){var t=n.Symbol||(n.Symbol=o?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},"3ce9":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{staticStyle:{margin:"10px 0 0 20px",postion:"flex",float:"left"},attrs:{inline:!0,model:e.formInline}},[r("el-form-item",{attrs:{label:"作业查询"}},[r("el-input",{attrs:{placeholder:"输入关键字"},model:{value:e.formInline.keyword,callback:function(t){e.$set(e.formInline,"keyword",t)},expression:"formInline.keyword"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.search_task}},[e._v("查询")])],1)],1),r("el-button",{staticStyle:{float:"left",margin:"10px 0 0 30%"},attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[r("i",{staticClass:"el-icon-plus"}),e._v("\n    创建作业\n  ")]),r("div",[r("el-table",{attrs:{data:e.tableData}},[r("el-table-column",{attrs:{label:"竞赛",width:"120",prop:"title"}}),r("el-table-column",{attrs:{label:"作业描述",width:"220",prop:"description"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{domProps:{innerHTML:e._s(t.row.description)}})]}}])}),r("el-table-column",{attrs:{label:"截止时间",width:"220",sortable:"",prop:"end_time"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"el-icon-time"}),r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e._f("formatDate")(t.row.end_time)))])]}}])}),r("el-table-column",{attrs:{width:"120",label:"创建人",prop:"created_by.username"}}),r("el-table-column",{attrs:{width:"120",label:"可见状态",prop:"visible"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(r){e.ruleForm=t.row,e.submitForm_update("ruleForm","put")}},model:{value:t.row.visible,callback:function(r){e.$set(t.row,"visible",r)},expression:"scope.row.visible"}})]}}])}),r("el-table-column",{attrs:{label:"管理","header-align":"center",width:"450"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",icon:"el-icon-view",type:"primary",round:""},on:{click:function(r){return e.enter_assign_detail(t.row.id)}}},[e._v("\n            查看")]),r("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"success",round:""},on:{click:function(r){return e.update_assign(t.row.id)}}},[e._v("编辑\n          ")]),r("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"primary",round:""},on:{click:function(r){return e.show_drawer_for_annoce(t.row.id)}}},[e._v("\n            查看公告")])]}}])})],1)],1),r("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),r("el-drawer",{attrs:{title:"作业提交详情",visible:e.drawer,direction:"rtl",size:"85%","append-to-body":""},on:{"update:visible":function(t){e.drawer=t}}},[r("SubmissionAys",{attrs:{subssion_detail:e.contest_submissions}})],1),r("el-dialog",{attrs:{title:"创建作业",visible:e.dialogVisible,width:"60%","destroy-on-close":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-steps",{attrs:{active:e.active,"finish-status":"success","align-center":""}},[r("el-step",{attrs:{title:"1 选择题目"}}),r("el-step",{attrs:{title:"2 配置作业选项"}})],1),0===e.active?r("div",[r("el-table",{ref:"multipleTable",staticStyle:{"padding-left":"23%"},attrs:{data:e.problemData,size:"medium","max-height":"600"},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),r("el-table-column",{attrs:{label:"题目编号",sortable:"",width:"120",prop:"id"}}),r("el-table-column",{attrs:{label:"标题",width:"120",prop:"title"}}),r("el-table-column",{attrs:{label:"标签",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.tags,(function(t,i){return r("el-tag",{key:t,attrs:{type:e.tag_types[i%5],effect:"dark"}},[e._v(e._s(t)+"\n            ")])}))}}],null,!1,3907068756)})],1)],1):e._e(),1===e.active?r("div",[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"id",prop:"id",required:""}},[r("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.id,callback:function(t){e.$set(e.ruleForm,"id",t)},expression:"ruleForm.id"}})],1),r("el-form-item",{attrs:{label:"名称",prop:"title",required:""}},[r("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),r("el-form-item",{attrs:{label:"描述",prop:"description",required:""}},[r("el-input",{attrs:{type:"textarea",clearable:""},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password",required:""}},[r("el-input",{attrs:{type:"password",clearable:""},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),r("el-form-item",{attrs:{label:"作业时间范围",required:""}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{prop:"date1"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.start_time,callback:function(t){e.$set(e.ruleForm,"start_time",t)},expression:"ruleForm.start_time"}})],1)],1),r("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{prop:"date2"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{typeplaceholder:"选择日期"},model:{value:e.ruleForm.end_time,callback:function(t){e.$set(e.ruleForm,"end_time",t)},expression:"ruleForm.end_time"}})],1)],1)],1)],1)],1):e._e(),r("el-button",{directives:[{name:"show",rawName:"v-show",value:0==e.active,expression:"active==0"}],staticClass:"stepButton",attrs:{type:"primary"},on:{click:function(t){e.active=1}}},[e._v("下一步")]),r("div",{staticStyle:{display:"flex",float:"right",marginTop:"-40px",marginRight:"230px"}},[r("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.active,expression:"active==1"}],attrs:{type:"primary"},on:{click:function(t){e.active=0}}},[e._v("上一步")]),r("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.active,expression:"active==1"}],attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm","post")}}},[e._v("完成")])],1)],1),r("el-dialog",{attrs:{title:"创建作业",visible:e.dialogVisible_update,width:"80%","destroy-on-close":""},on:{"update:visible":function(t){e.dialogVisible_update=t}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"id",prop:"id",required:""}},[r("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.id,callback:function(t){e.$set(e.ruleForm,"id",t)},expression:"ruleForm.id"}})],1),r("el-form-item",{attrs:{label:"名称",prop:"title",required:""}},[r("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),r("el-form-item",{attrs:{label:"描述",prop:"description",required:""}},[r("el-input",{attrs:{type:"textarea",clearable:""},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password",required:""}},[r("el-input",{attrs:{type:"text"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),r("el-form-item",{attrs:{label:"作业时间",required:""}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{prop:"date1"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.start_time,callback:function(t){e.$set(e.ruleForm,"start_time",t)},expression:"ruleForm.start_time"}})],1)],1),r("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{prop:"date2"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{typeplaceholder:"选择日期"},model:{value:e.ruleForm.end_time,callback:function(t){e.$set(e.ruleForm,"end_time",t)},expression:"ruleForm.end_time"}})],1)],1)],1)],1),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm_update("ruleForm","put")}}},[e._v("保存")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.edit_problem_list()}}},[e._v("修改题目列表")])],1),r("el-dialog",{attrs:{title:"发布公告",visible:e.show_new_annonce_editor},on:{"update:visible":function(t){e.show_new_annonce_editor=t}}},[r("el-form",{attrs:{model:e.new_annonce_form}},[r("el-form-item",{attrs:{label:"标题","label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.new_annonce_form.title,callback:function(t){e.$set(e.new_annonce_form,"title",t)},expression:"new_annonce_form.title"}})],1),r("el-form-item",{attrs:{label:"内容","label-width":e.formLabelWidth}},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.new_annonce_form.content,expression:"new_annonce_form.content"}],staticStyle:{height:"200px",width:"100%"},attrs:{autocomplete:"off"},domProps:{value:e.new_annonce_form.content},on:{input:function(t){t.target.composing||e.$set(e.new_annonce_form,"content",t.target.value)}}})]),r("el-form-item",{attrs:{label:"可见性","label-width":e.formLabelWidth}},[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.new_annonce_form.visible,callback:function(t){e.$set(e.new_annonce_form,"visible",t)},expression:"new_annonce_form.visible"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.show_editor=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.update_annocement_new(1)}}},[e._v("确 定")])],1)],1),r("el-drawer",{attrs:{title:"公告列表",visible:e.contest_annon_list_drawer_visble,direction:"rtl",size:"50%"},on:{"update:visible":function(t){e.contest_annon_list_drawer_visble=t}}},[r("el-table",{attrs:{data:e.contest_annon_list}},[r("el-table-column",{attrs:{property:"title",label:"标题",width:"150"}}),r("el-table-column",{attrs:{property:"content",label:"内容",width:"200"}}),r("el-table-column",{attrs:{prop:"visible",label:"可见"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(r){return e.update_annocement(t.row.id)}},model:{value:t.row.visible,callback:function(r){e.$set(t.row,"visible",r)},expression:"scope.row.visible"}})]}}])}),r("el-table-column",{attrs:{property:"content",label:"",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"el-icon-delete",on:{click:function(r){return e.delete_annonce(t.row.id)}}})]}}])})],1),r("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.show_editor_for_annoce()}}},[e._v("发布公告")])],1),r("el-dialog",{attrs:{title:"题目列表",visible:e.contest_problem_list_drawer_visble,center:""},on:{"update:visible":function(t){e.contest_problem_list_drawer_visble=t}}},[r("el-transfer",{attrs:{data:e.data,titles:e.titles},on:{change:e.problem_list_change},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)},n=[],o=(r("ac4d"),r("8a81"),r("5df3"),r("1c4c"),r("7f7f"),r("6b54"),r("6762"),r("2fdb"),r("ac6a"),r("96cf"),r("1da1")),a=r("22b4"),s=r("2da7"),l=r("ff32"),c=r("49bb"),u=r("f95e"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-button",{attrs:{type:"primary",size:"mini",round:""},on:{click:e.update_similaryty}},[e._v("计算重复率")]),r("el-button",{attrs:{type:"primary",size:"mini",round:""},on:{click:e.export2Excel}},[e._v("导出通过学生名单")]),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.subssion_detail,stripe:"","element-loading-text":"正在计算各个提交之间重复率，提交数量较多，请您耐心等待~","max-height":"600","element-loading-spinner":"el-icon-loading"}},[r("el-table-column",{attrs:{prop:"create_time",label:"提交时间",width:"200",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"el-icon-time"}),r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e._f("formatDate")(t.row.create_time)))])]}}])}),r("el-table-column",{attrs:{prop:"id",label:"提交ID",width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tooltip",{attrs:{content:t.row.id,placement:"top"}},[r("el-link",{staticClass:"sub_id"},[e._v(e._s(t.row.id))])],1)]}}])}),r("el-table-column",{attrs:{prop:"result",label:"结果",width:"80",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[-2===t.row.result?r("el-tag",{attrs:{effect:"dark",type:"danger"}},[e._v("编译错误")]):e._e(),-1===t.row.result?r("el-tag",{attrs:{effect:"dark",type:"danger"}},[e._v("答案错误")]):e._e(),0===t.row.result?r("el-tag",{attrs:{effect:"dark",type:"success"}},[e._v("正确")]):e._e(),1===t.row.result?r("el-tag",{attrs:{effect:"dark",type:"warning"}},[e._v("计算超时")]):e._e(),2===t.row.result?r("el-tag",{attrs:{effect:"dark",type:"warning"}},[e._v("超时")]):e._e(),3===t.row.result?r("el-tag",{attrs:{effect:"dark",type:"warning"}},[e._v("内存超过")]):e._e(),4===t.row.result?r("el-tag",{attrs:{effect:"dark",type:"danger"}},[e._v("运行时错误")]):e._e(),5===t.row.result?r("el-tag",{attrs:{effect:"dark",type:"danger"}},[e._v("系统错误")]):e._e(),6===t.row.result?r("el-tag",{attrs:{effect:"dark",type:"info"}},[e._v("传送...")]):e._e(),7===t.row.result?r("el-tag",{attrs:{effect:"dark",type:"info"}},[e._v("判题中...")]):e._e(),8===t.row.result?r("el-tag",{attrs:{effect:"dark"}},[e._v("部分正确")]):e._e()]}}])}),r("el-table-column",{attrs:{prop:"problem",label:"问题ID",width:"100",sortable:""}}),r("el-table-column",{attrs:{prop:"statistic_info.time_cost",label:"运行时间",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.result?r("span",{staticStyle:{color:"green"}},[e._v(e._s(t.row.statistic_info.time_cost)+"ms")]):r("span",{staticStyle:{color:"red"}},[e._v(e._s(t.row.statistic_info.time_cost)+"--ms")])]}}])}),r("el-table-column",{attrs:{prop:"statistic_info.memory_cost",label:"运行内存",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.result?r("span",{staticStyle:{color:"green"}},[e._v(e._s(t.row.statistic_info.memory_cost))]):r("span",{staticStyle:{color:"red"}},[e._v(e._s(t.row.statistic_info.memory_cost)+"--")])]}}])}),r("el-table-column",{attrs:{prop:"language",label:"提交语言",width:"80"}}),r("el-table-column",{attrs:{prop:"username",label:"用户",width:"100"}}),r("el-table-column",{attrs:{prop:"similarity",label:"最高重复率",width:"120",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.similarity>80?r("el-tag",{attrs:{effect:"dark",type:"danger"}},[e._v(e._s(t.row.similarity)+"%")]):t.row.similarity>60?r("el-tag",{attrs:{effect:"dark",type:"warning"}},[e._v(e._s(t.row.similarity)+"%")]):t.row.similarity>40?r("el-tag",{attrs:{effect:"dark",type:"info"}},[e._v(e._s(t.row.similarity)+"%")]):t.row.similarity>=0?r("el-tag",{attrs:{effect:"dark",type:"success"}},[e._v(e._s(t.row.similarity)+"%")]):e._e()]}}])}),r("el-table-column",{attrs:{prop:"similarity",label:"对比代码",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.constract_two_codes(t.row.id)}}},[e._v("比对")])]}}])})],1),r("el-drawer",{attrs:{title:"代码对比",label:"ltr","append-to-body":!0,visible:e.innerDrawer,size:"50%"},on:{"update:visible":function(t){e.innerDrawer=t}}},[r("el-tag",{attrs:{type:"success"}},[e._v("本提交代码(学生："+e._s(e.codes_compare.my_code_username)+")")]),r("el-input",{attrs:{type:"textarea",autosize:{minRows:6,maxRows:10}},model:{value:e.codes_compare.my_code,callback:function(t){e.$set(e.codes_compare,"my_code",t)},expression:"codes_compare.my_code"}}),r("el-tag",{staticStyle:{"margin-top":"15px"},attrs:{type:"success"}},[e._v("比对提交代码(学生："+e._s(e.codes_compare.copy_code_username)+")\n    ")]),r("el-input",{attrs:{type:"textarea",autosize:{minRows:6,maxRows:10}},model:{value:e.codes_compare.copy_code,callback:function(t){e.$set(e.codes_compare,"copy_code",t)},expression:"codes_compare.copy_code"}})],1)],1)},f=[];function m(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=p(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function p(e,t){if(e){if("string"===typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}var h={name:"SubmissionAys",props:["subssion_detail"],data:function(){return{submisson_codes:{},loading:!1,copy_id_dict:{},codes_compare:{my_code:"",my_code_username:"",copy_code:"",copy_code_username:""},innerDrawer:!1,cmOptions_C:{tabSize:4,mode:"text/x-csrc",theme:"monokai",lineNumbers:!0,line:!0}}},mounted:function(){this.assemble_submisson_codes()},methods:{assemble_submisson_codes:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t={},r=m(this.subssion_detail),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=10;break}return n=i.value,e.next=8,this.$axios.submission_id(n.id).then((function(e){t[e.data.id]=e.data.code}));case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:this.submisson_codes=t;case 19:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));function t(){return e.apply(this,arguments)}return t}(),update_similaryty:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r,i,n,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.assemble_submisson_codes();case 3:t=this.submisson_codes,r=m(this.subssion_detail);try{for(n=function(){var e=i.value,r={new_code:t[e.id],codes:t,submission_id:e.id};o.$axios.submisson_code_similarity(r).then((function(t){e["similarity"]=parseFloat(t.max_similarity.substring(0,5)),o.copy_id_dict[e.id]=t.copy_submission_id}))},r.s();!(i=r.n()).done;)n()}catch(a){r.e(a)}finally{r.f()}this.selfLog(this.subssion_detail),this.loading=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),constract_two_codes:function(e){var t=this;this.selfLog(this.copy_id_dict[e]),"0"===this.copy_id_dict[e]&&this.$message("该提交暂无相似代码"),this.selfLog("本提交："+e),this.selfLog("涉嫌抄袭提交："+this.copy_id_dict[e]),this.$axios.submission_id(e).then((function(e){t.selfLog(e),t.codes_compare.my_code_username=e.data.username,t.codes_compare.my_code=e.data.code})),this.$axios.submission_id(this.copy_id_dict[e]).then((function(e){t.codes_compare.copy_code_username=e.data.username,t.codes_compare.copy_code=e.data.code})),this.innerDrawer=!0},export2Excel:function(){var e=this;Promise.resolve().then(function(){var t,i=r("f3a0"),n=i.export_json_to_excel,o=["提交时间","提交ID","结果","问题ID","提交语言","用户","重复率"],a=["create_time","id","result","problem","language","username","similarity"],s=e.subssion_detail,l=[],c=[],u=m(s);try{for(u.s();!(t=u.n()).done;){var d=t.value;0!==d.result||c.includes(d.username)||(l.push(d),c.push(d.username))}}catch(p){u.e(p)}finally{u.f()}var f=e.formatJson(a,l);n(o,f,"列表excel")}.bind(null,r)).catch(r.oe)},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return t[e]}))}))},onCmReady:function(e){this.selfLog("the editor is readied!",e)},onCmFocus:function(e){this.selfLog("the editor is focused!",e)}},computed:{}},b=h,v=(r("28d6"),r("2877")),g=Object(v["a"])(b,d,f,!1,null,"0a6adccb",null),y=g.exports;function w(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=x(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function x(e,t){if(e){if("string"===typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}a["a"]([s["a"],l["a"],c["a"],u["a"]]);var F={components:{SubmissionAys:y},name:"Assign",beforeCreate:function(){var e=this;this.$axios.user_profile().then((function(t){e.user_profile=t["data"],e.$root.user_profile=e.user_profile,e.user_profile.user.last_login=e.user_profile.user.last_login.substr(0,10),e.user_profile.user.avatar=e.$OJIP+e.user_profile.avatar,e.getTableData(),e.getProblemList()}))},data:function(){return{curAssign:{problemDetail:""},drawer:!1,tag_types:["info","warning","danger","","success"],user_profile:"",ruleForm:{allowed_ip_ranges:[],description:"",end_time:"",password:"",real_time_rank:!0,rule_type:"ACM",start_time:"",title:"",visible:!0},problemData:[],multipleSelection:[],dialogVisible:!1,active:0,activeNames:[],page:1,classList:[],tableData:[],offset:0,limit:10,totalListLength:20,formLabelWidth:"80px",total:0,form:{password:""},formInline:{keyword:"",status:""},problems:{},key:0,contestid:0,homework_id:0,config:{data:[{name:"已提交",value:60},{name:"未提交",value:40}],color:["#00FF7F","#f00"],digitalFlopStyle:{fill:"#000"},showOriginValue:!0},option:{tooltip:{trigger:"item"},legend:{top:"5%",left:"center"},series:[{name:"提交分析",type:"pie",radius:["40%","60%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!1},data:[]}]},new_annonce_form:{content:"",contest_id:"0",id:null,title:"",visible:!0},show_new_annonce_editor:!1,contest_id_for_annon:0,contest_annon_list:[],contest_annon_list_drawer_visble:!1,dialogVisible_update:!1,contest_problem_list_drawer_visble:!1,data:[],value:[],titles:["可选题目","已选题目"],value2:[],contest_submissions:[]}},methods:{setEcharts:function(){},upload:function(e){for(var t=0;t<this.multipleSelection.length;t++){var r={contest_id:e,display_id:this.multipleSelection[t]._id,problem_id:this.multipleSelection[t].id};this.$axios.add_problem(r).then((function(e){}))}},enter_assign_detail:function(e){var t=this;this.drawer=!0,this.$axios.search_problem_list(this.limit,this.offset,e).then((function(e){t.problemDetail=e.data})),this.$axios.assign_submission_list(e).then((function(e){t.selfLog(e);var r,i=w(e.data.results);try{for(i.s();!(r=i.n()).done;){var n=r.value;n["similarity"]="0"}}catch(o){i.e(o)}finally{i.f()}t.contest_submissions=e.data.results}))},handleCurrentChange:function(e){this.page=e,this.offset=(this.page-1)*this.limit,this.getProblemList()},handleSizeChange:function(e){this.limit=e,this.offset=(this.page-1)*this.limit,this.getProblemList()},search_task:function(){var e=this;""===this.formInline.status?this.$axios.search_task_ignore_status(this.offset,this.limit,this.formInline.keyword).then((function(t){e.total=t.data.total,e.tableData=t.data.results,e.selfLog(t)})):this.$axios.search_task(this.offset,this.limit,this.formInline.status,this.formInline.keyword).then((function(t){e.total=t.data.total,e.tableData=t.data.results,e.selfLog(t)}))},getProblemList:function(){var e=this;this.$axios.admin_contests_list(this.offset,this.limit).then((function(t){if(e.selfLog(t),e.tableData=[],null===t.error){var r,i=w(t.data.results);try{for(i.s();!(r=i.n()).done;){var n=r.value;n.created_by.username==e.user_profile.user.username&&e.tableData.push(n)}}catch(o){i.e(o)}finally{i.f()}e.total=t.data.total,e.selfLog(e.tableData),e.selfLog(e.total)}}))},getTableData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.admin_problem_list(this.totalListLength,this.offset).then((function(e){t.totalListLength=e.data.total}));case 2:this.$axios.admin_problem_list(this.totalListLength,this.offset).then((function(e){null==e.error?(t.problemData=e.data.results,t.totalListLength=e.data.total,t.selfLog(t.problemData),t.selfLog(t.totalListLength)):t.$message({message:e.error,type:"error"})}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),show_editor_for_annoce:function(){this.show_new_annonce_editor=!0},show_drawer_for_annoce:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.contest_id_for_annon=t,e.next=3,this.get_annonce_for_contest(t);case 3:this.contest_annon_list_drawer_visble=!0;case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),update_annocement_new:function(){var e=this,t={content:this.new_annonce_form.content,contest_id:this.contest_id_for_annon,id:null,title:this.new_annonce_form.title,visible:this.new_annonce_form.visible};this.selfLog(t),this.$axios.publish_annoncement_for_assign(t).then((function(t){null===t.error&&(e.$message({message:"发布公告成功",type:"success"}),e.get_annonce_for_contest(e.contest_id_for_annon),e.show_new_annonce_editor=!1)}))},get_annonce_for_contest:function(e){var t=this;this.$axios.get_annonce_for_contest(e).then((function(e){t.selfLog(e),t.contest_annon_list=e.data}))},delete_annonce:function(e){var t=this;this.$axios.delete_annonce(e).then((function(e){t.selfLog(e),null===e.error&&(t.$message({message:"删除公告成功",type:"success"}),t.get_annonce_for_contest(t.contest_id_for_annon))}))},update_assign:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.selfLog(t),e.next=3,this.get_detail_assign_id(t);case 3:this.selfLog(this.ruleForm),this.dialogVisible_update=!0;case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),get_detail_assign_id:function(e){var t=this;this.$axios.get_detail_assign_id(e).then((function(e){t.ruleForm=e.data}))},submitForm:function(e,t){var r=this,i={allowed_ip_ranges:[],description:this.ruleForm.description,end_time:this.ruleForm.end_time,password:this.ruleForm.password,real_time_rank:!0,rule_type:"ACM",start_time:this.ruleForm.start_time,title:this.ruleForm.title,visible:!0,id:1};this.$axios.create_task(i,t).then((function(e){r.selfLog(e),r.homework_id=e.data.id,r.dialogVisible=!1,r.active=0,r.clearable(),r.getProblemList(),r.upload(r.homework_id)}))},submitForm_update:function(e,t){var r=this;console.log(this.ruleForm);var i={allowed_ip_ranges:[],description:this.ruleForm.description,end_time:this.ruleForm.end_time,password:this.ruleForm.password,real_time_rank:!0,rule_type:"ACM",start_time:this.ruleForm.start_time,title:this.ruleForm.title,visible:this.ruleForm.visible,id:this.ruleForm.id};this.selfLog(t),this.$axios.create_task(i,t).then((function(e){r.selfLog(e),null===e.error&&r.$message({message:"修改成功",type:"success"}),r.dialogVisible_update=!1,r.getProblemList(),r.ruleForm={}}))},edit_problem_list:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r,i,n,o,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.data=[],this.contest_problem_list_drawer_visble=!0,e.next=4,this.getTableData();case 4:t=[],r=[],i=w(this.problemData);try{for(i.s();!(n=i.n()).done;)o=n.value,t.push(o.title),r.unshift(o)}catch(s){i.e(s)}finally{i.f()}t.forEach((function(e,t){a.data.push({label:e,key:t,problem:r.pop()})})),this.$axios.search_problem_list(this.limit,this.offset,this.ruleForm.id).then((function(e){a.selfLog(e.data.results);var t,r=w(e.data.results);try{var i=function(){var e=t.value;a.data.forEach((function(t,r){e._id+""===a.data[r].problem.id+""&&(a.selfLog("压入"+r),a.value.push(r),a.value2=a.value)}))};for(r.s();!(t=r.n()).done;)i()}catch(s){r.e(s)}finally{r.f()}a.selfLog(a.value)}));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),problem_list_change:function(){var e=this;this.selfLog("最新value："),this.selfLog(this.value),this.selfLog("最新value2："),this.selfLog(this.value2);var t,r=w(this.value);try{var i=function(){var r=t.value;if(e.value2.includes(r));else if(!e.value2.includes(r)){e.selfLog("++++++++++++++++++++++++++++++++++"),e.selfLog("this.data[index].problem"),e.selfLog(e.data[r].problem);var i={contest_id:e.ruleForm.id,display_id:e.data[r].problem.id,problem_id:e.data[r].problem.id};e.$axios.add_problem(i).then((function(t){e.selfLog("---------"),e.selfLog(t),e.$message({message:"保存"+e.data[r].problem.title+"成功",type:"success"})}))}};for(r.s();!(t=r.n()).done;)i()}catch(s){r.e(s)}finally{r.f()}var n,o=w(this.value2);try{var a=function(){var t=n.value;if(e.selfLog("indexxx:"+t),e.selfLog(e.value.includes(t)),!e.value.includes(t)){var r=e.data[t].problem.id+"";e.$axios.search_problem_list(e.limit,e.offset,e.ruleForm.id).then((function(i){var n,o=w(i.data.results);try{for(o.s();!(n=o.n()).done;){var a=n.value;r===a._id&&(e.selfLog(e.data[t].problem.id),e.selfLog(a.id),e.$axios.delete_problem_from_assign(a.id).then((function(t){e.selfLog(t),null===t.error?e.$message({message:"删除成功",type:"success"}):"Can't delete the problem as it has submissions"===t.data&&(e.$message({message:"该题目已有提交记录，无法移除",type:"error"}),e.selfLog("最新====value："),e.selfLog(e.value),e.selfLog("最新====value2："),e.selfLog(e.value2),e.edit_problem_list())})))}}catch(s){o.e(s)}finally{o.f()}}))}};for(o.s();!(n=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}this.value2=this.value},handleSelectionChange:function(e){this.selfLog(e),this.multipleSelection=e},handleClose:function(e){e()},handleChange:function(e){this.selfLog(e)},handleClick:function(e){this.selfLog(e)}},computed:{}},S=F,L=(r("c14f"),Object(v["a"])(S,i,n,!1,null,"4a70b43f",null));t["default"]=L.exports},5147:function(e,t,r){var i=r("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[i]=!1,!"/./"[e](t)}catch(n){}}return!0}},5919:function(e,t,r){},6762:function(e,t,r){"use strict";var i=r("5ca1"),n=r("c366")(!0);i(i.P,"Array",{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")("includes")},"7bbc":function(e,t,r){var i=r("6821"),n=r("9093").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return n(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):n(i(e))}},"8a81":function(e,t,r){"use strict";var i=r("7726"),n=r("69a8"),o=r("9e1e"),a=r("5ca1"),s=r("2aba"),l=r("67ab").KEY,c=r("79e5"),u=r("5537"),d=r("7f20"),f=r("ca5a"),m=r("2b4c"),p=r("37c8"),_=r("3a72"),h=r("d4c0"),b=r("1169"),v=r("cb7c"),g=r("d3f4"),y=r("4bf8"),w=r("6821"),x=r("6a99"),k=r("4630"),F=r("2aeb"),S=r("7bbc"),L=r("11e9"),$=r("2621"),C=r("86cc"),O=r("0d58"),D=L.f,j=C.f,I=S.f,A=i.Symbol,P=i.JSON,z=P&&P.stringify,R="prototype",E=m("_hidden"),N=m("toPrimitive"),T={}.propertyIsEnumerable,V=u("symbol-registry"),q=u("symbols"),J=u("op-symbols"),M=Object[R],W="function"==typeof A&&!!$.f,U=i.QObject,B=!U||!U[R]||!U[R].findChild,G=o&&c((function(){return 7!=F(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a}))?function(e,t,r){var i=D(M,t);i&&delete M[t],j(e,t,r),i&&e!==M&&j(M,t,i)}:j,H=function(e){var t=q[e]=F(A[R]);return t._k=e,t},K=W&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},Q=function(e,t,r){return e===M&&Q(J,t,r),v(e),t=x(t,!0),v(r),n(q,t)?(r.enumerable?(n(e,E)&&e[E][t]&&(e[E][t]=!1),r=F(r,{enumerable:k(0,!1)})):(n(e,E)||j(e,E,k(1,{})),e[E][t]=!0),G(e,t,r)):j(e,t,r)},Y=function(e,t){v(e);var r,i=h(t=w(t)),n=0,o=i.length;while(o>n)Q(e,r=i[n++],t[r]);return e},X=function(e,t){return void 0===t?F(e):Y(F(e),t)},Z=function(e){var t=T.call(this,e=x(e,!0));return!(this===M&&n(q,e)&&!n(J,e))&&(!(t||!n(this,e)||!n(q,e)||n(this,E)&&this[E][e])||t)},ee=function(e,t){if(e=w(e),t=x(t,!0),e!==M||!n(q,t)||n(J,t)){var r=D(e,t);return!r||!n(q,t)||n(e,E)&&e[E][t]||(r.enumerable=!0),r}},te=function(e){var t,r=I(w(e)),i=[],o=0;while(r.length>o)n(q,t=r[o++])||t==E||t==l||i.push(t);return i},re=function(e){var t,r=e===M,i=I(r?J:w(e)),o=[],a=0;while(i.length>a)!n(q,t=i[a++])||r&&!n(M,t)||o.push(q[t]);return o};W||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(r){this===M&&t.call(J,r),n(this,E)&&n(this[E],e)&&(this[E][e]=!1),G(this,e,k(1,r))};return o&&B&&G(M,e,{configurable:!0,set:t}),H(e)},s(A[R],"toString",(function(){return this._k})),L.f=ee,C.f=Q,r("9093").f=S.f=te,r("52a7").f=Z,$.f=re,o&&!r("2d00")&&s(M,"propertyIsEnumerable",Z,!0),p.f=function(e){return H(m(e))}),a(a.G+a.W+a.F*!W,{Symbol:A});for(var ie="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;ie.length>ne;)m(ie[ne++]);for(var oe=O(m.store),ae=0;oe.length>ae;)_(oe[ae++]);a(a.S+a.F*!W,"Symbol",{for:function(e){return n(V,e+="")?V[e]:V[e]=A(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in V)if(V[t]===e)return t},useSetter:function(){B=!0},useSimple:function(){B=!1}}),a(a.S+a.F*!W,"Object",{create:X,defineProperty:Q,defineProperties:Y,getOwnPropertyDescriptor:ee,getOwnPropertyNames:te,getOwnPropertySymbols:re});var se=c((function(){$.f(1)}));a(a.S+a.F*se,"Object",{getOwnPropertySymbols:function(e){return $.f(y(e))}}),P&&a(a.S+a.F*(!W||c((function(){var e=A();return"[null]"!=z([e])||"{}"!=z({a:e})||"{}"!=z(Object(e))}))),"JSON",{stringify:function(e){var t,r,i=[e],n=1;while(arguments.length>n)i.push(arguments[n++]);if(r=t=i[1],(g(t)||void 0!==e)&&!K(e))return b(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!K(t))return t}),i[1]=t,z.apply(P,i)}}),A[R][N]||r("32e9")(A[R],N,A[R].valueOf),d(A,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},ac4d:function(e,t,r){r("3a72")("asyncIterator")},c14f:function(e,t,r){"use strict";r("fb44")},d2c8:function(e,t,r){var i=r("aae3"),n=r("be13");e.exports=function(e,t,r){if(i(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(n(e))}},d4c0:function(e,t,r){var i=r("0d58"),n=r("2621"),o=r("52a7");e.exports=function(e){var t=i(e),r=n.f;if(r){var a,s=r(e),l=o.f,c=0;while(s.length>c)l.call(e,a=s[c++])&&t.push(a)}return t}},fb44:function(e,t,r){}}]);
//# sourceMappingURL=chunk-1517cac4.b4578a63.js.map